/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("datatype-xml-parse",function(e,t){e.mix(e.namespace("XML"),{parse:function(t){var n=null,r;return typeof t=="string"&&(r=e.config.win,r.ActiveXObject!==undefined?(n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1,n.loadXML(t)):r.DOMParser!==undefined?n=(new DOMParser).parseFromString(t,"text/xml"):r.Windows!==undefined&&(n=new Windows.Data.Xml.Dom.XmlDocument,n.loadXml(t))),n===null||n.documentElement===null||n.documentElement.nodeName==="parsererror",n}}),e.namespace("Parsers").xml=e.XML.parse,e.namespace("DataType"),e.DataType.XML=e.XML},"3.16.0");
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("io-xdr",function(e,t){function a(e,t,n){var r='<object id="io_swf" type="application/x-shockwave-flash" data="'+e+'" width="0" height="0">'+'<param name="movie" value="'+e+'">'+'<param name="FlashVars" value="yid='+t+"&uid="+n+'">'+'<param name="allowScriptAccess" value="always">'+"</object>",i=s.createElement("div");s.body.appendChild(i),i.innerHTML=r}function f(t,n,r){return n==="flash"&&(t.c.responseText=decodeURI(t.c.responseText)),r==="xml"&&(t.c.responseXML=e.DataType.XML.parse(t.c.responseText)),t}function l(e,t){return e.c.abort(e.id,t)}function c(e){return u?i[e.id]!==4:e.c.isInProgress(e.id)}var n=e.publish("io:xdrReady",{fireOnce:!0}),r={},i={},s=e.config.doc,o=e.config.win,u=o&&o.XDomainRequest;e.mix(e.IO.prototype,{_transport:{},_ieEvt:function(e,t){var n=this,r=e.id,s="timeout";e.c.onprogress=function(){i[r]=3},e.c.onload=function(){i[r]=4,n.xdrResponse("success",e,t)},e.c.onerror=function(){i[r]=4,n.xdrResponse("failure",e,t)},e.c.ontimeout=function(){i[r]=4,n.xdrResponse(s,e,t)},e.c[s]=t[s]||0},xdr:function(t,n,i){var s=this;return i.xdr.use==="flash"?(r[n.id]=i,o.setTimeout(function(){try{n.c.send(t,{id:n.id,uid:n.uid,method:i.method,data:i.data,headers:i.headers})}catch(e){s.xdrResponse("transport error",n,i),delete r[n.id]}},e.io.xdr.delay)):u?(s._ieEvt(n,i),n.c.open(i.method||"GET",t),setTimeout(function(){n.c.send(i.data)},0)):n.c.send(t,n,i),{id:n.id,abort:function(){return n.c?l(n,i):!1},isInProgress:function(){return n.c?c(n.id):!1},io:s}},xdrResponse:function(e,t,n){n=r[t.id]?r[t.id]:n;var s=this,o=u?i:r,a=n.xdr.use,l=n.xdr.dataType;switch(e){case"start":s.start(t,n);break;case"success":s.success(f(t,a,l),n),delete o[t.id];break;case"timeout":case"abort":case"transport error":t.c={status:0,statusText:e};case"failure":s.failure(f(t,a,l),n),delete o[t.id]}},_xdrReady:function(t,r){e.fire(n,t,r)},transport:function(t){t.id==="flash"&&(a(e.UA.ie?t.src+"?d="+(new Date).valueOf().toString():t.src,e.id,t.uid),e.IO.transports.flash=function(){return s.getElementById("io_swf")})}}),e.io.xdrReady=function(t,n){var r=e.io._map[n];e.io.xdr.delay=0,r._xdrReady.apply(r,[t,n])},e.io.xdrResponse=function(t,n,r){var i=e.io._map[n.uid];i.xdrResponse.apply(i,[t,n,r])},e.io.transport=function(t){var n=e.io._map["io:0"]||new e.IO;t.uid=n._uid,n.transport.apply(n,[t])},e.io.xdr={delay:100}},"3.16.0",{requires:["io-base","datatype-xml-parse"]});
YUI.add("page-title-helper",function(e){e.pageTitleHelper=function(t){var n="Flickr";return e.Lang.isString(t)&&(t=t.trim(),t&&(n=t+" | "+n)),n}},"@VERSION@",{requires:[]});
YUI.add("history-helper",function(e,t){var n=require("lib/flog")(t);e.HistoryHelper={setData:function(e,t,r){var i={};if(typeof history!="undefined"&&history.replaceState){typeof history.state!="undefined"&&history.state!==null&&typeof history.state.flickr!="undefined"&&(i=history.state.flickr),typeof i[e]=="undefined"&&(i[e]={}),i[e][t]=r;try{history.replaceState({flickr:i},"")}catch(s){}return!0}return n.warn("Failed attempt to store history data",{namespace:e,key:t}),!1},getData:function(e,t){var n;if(typeof history!="undefined"&&typeof history.state!="undefined"&&history.state!==null&&typeof history.state.flickr!="undefined"){n=history.state.flickr[e];if(typeof n!="undefined"&&typeof n[t]!="undefined")return n[t]}return undefined}}},"@VERSION@",{requires:[]});
YUI.add("flickr-route",function(e,t){var n=require("lib/flog")(t);e.Routes=e.Routes||{},e.FlickrRoute=function(e){this.appContext=e},e.FlickrRoute.prototype={run:function(){},setRouteDataOnHistory:function(t,n){return e.HistoryHelper.setData(this.name,t,n)},getRouteDataFromHistory:function(t){return e.HistoryHelper.getData(this.name,t)},displayServerErrorOrClientRedirect:function(t,n,r){return YUI.Env.isServer?this.displayRouteErrors(t,new e.RouteError(404,n)):e.Promise.resolve({redirect:r||t.url})},detectRouteErrors:function(){var t=e.Array(arguments);return t.filter(function(t,n){return t instanceof e.RouteError}).sort(function(e,t){return e.type-t.type})},displayRouteErrors:function(t,n){var r=e.Lang.isArray(n)?n[0]:n;return e.Promise.resolve(this["display"+r.type+"Error"](t,r))},display500Error:function(t,r){var i,s,o;i={view:"error-500-page-view",params:{},headers:{statusCode:500},layout:"maximized"};if(e.config.flickr.error.show_debugging_info||t.isInsecureGod||this.appContext&&this.appContext.auth&&this.appContext.auth.isInsecureGod)i.params.source="flickrRoute#display500Error",i.params.message=r.message,i.params.apiMethod=r.apiMethod;return YUI.Env.isServer||(i.params.message=r.message,i.params.apiMethod=r.apiMethod),t.id&&(i.params.requestID=e.moment().format("YYYY-MM-DD")+"-"+t.id),r&&r.type==="SiteAuth"&&(r.redirect?(YUI.Env.isServer?s=t.normalizedProtocol+"://"+t.hostname+t.originalUrl:s=t.url,o=e.url("/siteauth/?redirect_url="+encodeURIComponent(s)),YUI.Env.isServer&&(n.info("Redirecting to siteauth",{onManhattan:YUI.Env.onManhattan}),YUI.Env.onManhattan||(o+="&dev=1")),i={redirect:o}):YUI.Env.isServer&&(i.params.siteAuthFailure=!0)),typeof i.redirect=="undefined"?n.info("render",{status:500,req:t,err:r,isBot:this.appContext.getUA().isBot}):n.info("redirect",{status:302,req:t,location:i.redirect,isBot:this.appContext.getUA().isBot}),i},display303Error:function(e,t){return{redirect:t.options.redirect,headers:{statusCode:303}}},display403Error:function(t,n){var r;n=n||{},r={view:"error-403-page-view",params:{},headers:{statusCode:403},layout:"maximized"};if(e.config.flickr.error.show_debugging_info||t.isInsecureGod||this.appContext&&this.appContext.auth&&this.appContext.auth.isInsecureGod)r.params.source="flickrRoute#display403Error",r.params.message=n.message;return t.id&&(r.params.requestID=e.moment().format("YYYY-MM-DD")+"-"+t.id),r},display404Error:function(t,r){var i;r=r||new Error("404"),i={view:"error-404-page-view",params:{},headers:{statusCode:404},layout:"maximized"},n.info("render",{status:404,url:t.url,err:r,isBot:this.appContext.getUA().isBot});if(e.config.flickr.error.show_debugging_info||t.isInsecureGod||this.appContext&&this.appContext.auth&&this.appContext.auth.isInsecureGod)i.params.source="flickrRoute#display404Error",i.params.message=r.message;return t.id&&(i.params.requestID=e.moment().format("YYYY-MM-DD")+"-"+t.id),i},getPageNumber:function(e,t){var n=parseInt(e.params[t||"page_number"],10);if(isNaN(n)||n<=1)n=1;return n}},e.RouteError=function(e,t,n){this.type=e,this.message=t,this.options=n}},"@VERSION@",{requires:["flickr-promise","moment","fletrics","url","history-helper"]});
YUI.add("mobile-redirect",function(e,t){function r(t,n){return YUI.Env.isServer?e.Lang.isValue(t.cookies[n]):e.Cookie.exists(n)}function i(t){return YUI.Env.isServer?t.headers["user-agent"]:e.UA.userAgent}function s(t,n){YUI.Env.isServer?t.redirect(n):e.config.win.location=n}var n=require("lib/flog")(t);e.mix(e.namespace("Middleware"),{MobileRedirect:function(t){return function(o,u,a){if(t.has_mdot!==!0)return n.log("route does not have mdot version"),a();if(t.module==="shared-entity-route")return n.log("guest passed page, going to photo page"),a();if(r(o,"mobile_allow_www"))return n.log("user has the mobile opt-out cookie"),a();if(o.appContext.flipper.isFlipped("enable-new-mobile-photo-page")&&t.module==="photo-route"&&!e.BrowserSupport.isUnsupportedBrowser(i(o)))return n.log("user can see reboot mobile photo page."),a();e.BrowserSupport.isMobileBrowser(i(o))?(n.info("mobile browser detected, redirecting"),e.Object.isEmpty(o.query)?s(u,"https://m.flickr.com"+o.path):s(u,"https://m.flickr.com"+o.path+"?"+e.QueryString.stringify(o.query))):(n.log("not a mobile browser"),a())}}})},"@VERSION@",{requires:["querystring-stringify","browser-support","cookie"]});
YUI.add("site-key",function(e,t){"use strict";var n=require("lib/flog")(t);e.SiteKey=function(t,n){this.configurator=t||null,this.flickrAPI=n||new e.FlickrAPI,this._tasks=[]},e.SiteKey.prototype.getKey=function(){return e.config.flickr.api.site_key},e.SiteKey.prototype.isExpired=function(){return Date.now()/1e3>e.config.flickr.api.site_key_expiresAt},e.SiteKey.prototype.invalidate=function(e){var t=this._lastStored||0;e||(e=0);if(e<t)return;return this.setExpired()},e.SiteKey.prototype.setExpired=function(){return e.config.flickr.api.site_key_expiresAt=0},e.SiteKey.prototype.store=function(t,n){var r;this._lastStored=Date.now(),n||(n=this._lastStored/1e3|0),e.config.flickr.api.site_key=t,e.config.flickr.api.site_key_fetched=n,e.config.flickr.api.site_key_expiresAt=e.config.flickr.api.site_key_fetched+e.config.flickr.api.site_key_fetch_interval,this.configurator&&(r={},r.site_key=t,r.site_key_fetched=n,this.configurator.update({api:r})),this.drainQueue()},e.SiteKey.prototype.setTrustedKey=function(e){this._trustedKey=e},e.SiteKey.prototype.getTrustedKey=function(){return this._trustedKey||null},e.SiteKey.prototype.pushToQueue=function(e){this._tasks.push(e)},e.SiteKey.prototype.drainQueue=function(){while(this._tasks.length)this._tasks.shift().resolve()},e.SiteKey.prototype.hasQueuedTasks=function(){return!!this._tasks.length},e.SiteKey.prototype.scheduleFutureFetch=function(){this._timerFutureFetch=setTimeout(this.fetch.bind(this),e.config.flickr.api.site_key_fetch_interval*1e3)},e.SiteKey.prototype.scheduleRetry=function(t){var n=this,r=this._fetchRuns>4?1:Math.pow(2,(this._fetchRuns||1)-1)/10,i=e.config.flickr.api.site_key_retry_interval*r;clearTimeout(this._timerRetry),this._timerRetry=setTimeout(function(){n._timerRetry=null,n.fetch(t)},i*1e3)},e.SiteKey.prototype.fetch=function(t){clearTimeout(this._timerFutureFetch);var r,i=this,s=i.hasQueuedTasks();if(!t){t=new e.Promise(function(e,t){this.resolve=e,this.reject=t}),this.pushToQueue(t);if(s)return t}return r=e.fletrics.createStopwatch("test.site.key.api.latency"),r.start(),this._fetchRuns||(this._fetchRuns=0),this._fetchRuns++,this.flickrAPI.fetchSiteKey().then(function(t){var s=t.site_key;r.stop(),n.info("Received new site key",{key:s}),i._fetchRuns=0,i.store(s),e.fire("site-key:goodkey"),e.fletrics.sync(),i.scheduleFutureFetch()},function(r){e.fletrics.increment("sitekey.fetch.failures"),e.fire("site-key:badkey"),n.error("Failed to fetch site key",{err:r}),i.scheduleRetry(t)}),t},e.augment(e.SiteKey,e.EventTarget)},"@VERSION@",{requires:["event-custom","flickr-api","flickr-promise","fletrics"]});
YUI.add("csrf-updater",function(e){"use strict";var t=require("lib/flog")("csrf");e.CsrfUpdater=function(e){this.flickrAPI=e,this._tasks=[]},e.CsrfUpdater.prototype.getKey=function(){return e.config.flickr.csrf.token||null},e.CsrfUpdater.prototype.isExpired=function(){return e.config.flickr.csrf.token?Date.now()/1e3>e.config.flickr.csrf.csrfExpiresAt:!1},e.CsrfUpdater.prototype.invalidate=function(e){var t=this._lastStored||0;e||(e=0);if(e<t)return;return this.setExpired()},e.CsrfUpdater.prototype.setExpired=function(){return e.config.flickr.csrf.csrfExpiresAt=0},e.CsrfUpdater.prototype.store=function(t,n){this._lastStored=Date.now(),n||(n=this._lastStored/1e3|0),e.config.flickr.csrf.token=t,e.config.flickr.csrf.csrfFetched=n,e.config.flickr.csrf.csrfExpiresAt=n+e.config.flickr.csrf.fetch_interval,this.drainQueue()},e.CsrfUpdater.prototype.pushToQueue=function(e){this._tasks.push(e)},e.CsrfUpdater.prototype.drainQueue=function(){while(this._tasks.length)this._tasks.shift().resolve()},e.CsrfUpdater.prototype.hasQueuedTasks=function(){return!!this._tasks.length},e.CsrfUpdater.prototype.scheduleFutureFetch=function(){if(!e.config.flickr.csrf.token)return;this._timerFutureFetch=setTimeout(this.fetch.bind(this),e.config.flickr.csrf.fetch_interval*1e3)},e.CsrfUpdater.prototype.scheduleRetry=function(t){var n=this,r=this._fetchRuns>4?1:Math.pow(2,(this._fetchRuns||1)-1)/10,i=e.config.flickr.csrf.retry_interval*r;clearTimeout(this._timerRetry),this._timerRetry=setTimeout(function(){n._timerRetry=null,n.fetch(t)},i*1e3)},e.CsrfUpdater.prototype.fetch=function(n){var r=this,i=r.hasQueuedTasks();clearTimeout(this._timerFutureFetch);if(!n){n=new e.Promise(function(e,t){this.resolve=e,this.reject=t}),this.pushToQueue(n);if(i)return n}return this._fetchRuns||(this._fetchRuns=0),this._fetchRuns++,this.flickrAPI.fetchCsrf().then(function(i){var s=i.token;if(!i.token){t.error("Failed to fetch csrf token",i),e.fire("csrf:badkey",i),r.scheduleRetry(n);return}t.log("Received new csrf token",i),e.fire("csrf:goodkey"),r._fetchRuns=0,r.store(s),r.scheduleFutureFetch()},function(i){t.error("Failed to fetch csrf token",{err:i}),e.fire("csrf:badkey",i.message),r.scheduleRetry(n)}),n}},"@VERSION@",{requires:["fletrics"]});
YUI.add("samplr",function(e){var t=1e3;e.Samplr=function(e){this.seed=e||Math.round(Math.random()*t)},e.Samplr.prototype.isInSample=function(e){return this.seed<=Math.round(e*t)?!0:!1}},"@VERSION@",{requires:["app-context"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("io-form",function(e,t){var n=encodeURIComponent;e.IO.stringify=function(t,n){n=n||{};var r=e.IO.prototype._serialize({id:t,useDisabled:n.useDisabled},n.extra&&typeof n.extra=="object"?e.QueryString.stringify(n.extra):n.extra);return r},e.mix(e.IO.prototype,{_serialize:function(t,r){var i=[],s=t.useDisabled||!1,o=0,u=typeof t.id=="string"?t.id:t.id.getAttribute("id"),a,f,l,c,h,p,d,v,m,g;u||(u=e.guid("io:"),t.id.setAttribute("id",u)),f=e.config.doc.getElementById(u);if(!f||!f.elements)return r||"";for(p=0,d=f.elements.length;p<d;++p){a=f.elements[p],h=a.disabled,l=a.name;if(s?l:l&&!h){l=n(l)+"=",c=n(a.value);switch(a.type){case"select-one":a.selectedIndex>-1&&(g=a.options[a.selectedIndex],i[o++]=l+n(g.attributes.value&&g.attributes.value.specified?g.value:g.text));break;case"select-multiple":if(a.selectedIndex>-1)for(v=a.selectedIndex,m=a.options.length;v<m;++v)g=a.options[v],g.selected&&(i[o++]=l+n(g.attributes.value&&g.attributes.value.specified?g.value:g.text));break;case"radio":case"checkbox":a.checked&&(i[o++]=l+c);break;case"file":case undefined:case"reset":case"button":break;case"submit":default:i[o++]=l+c}}}return r&&(i[o++]=r),i.join("&")}},!0)},"3.16.0",{requires:["io-base","node-base"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("io-upload-iframe",function(e,t){function u(t,n,r){var i=e.Node.create('<iframe id="io_iframe'+t.id+'" name="io_iframe'+t.id+'" />');i._node.style.position="absolute",i._node.style.top="-1000px",i._node.style.left="-1000px",e.one("body").appendChild(i),e.on("load",function(){r._uploadComplete(t,n)},"#io_iframe"+t.id)}function a(t){e.Event.purgeElement("#io_iframe"+t,!1),e.one("body").removeChild(e.one("#io_iframe"+t))}var n=e.config.win,r=e.config.doc,i=r.documentMode&&r.documentMode>=8,s=decodeURIComponent,o=e.IO.prototype.end;e.mix(e.IO.prototype,{_addData:function(t,n){e.Lang.isObject(n)&&(n=e.QueryString.stringify(n));var i=[],o=n.split("="),u,a;for(u=0,a=o.length-1;u<a;u++)i[u]=r.createElement("input"),i[u].type="hidden",i[u].name=s(o[u].substring(o[u].lastIndexOf("&")+1)),i[u].value=u+1===a?s(o[u+1]):s(o[u+1].substring(0,o[u+1].lastIndexOf("&"))),t.appendChild(i[u]);return i},_removeData:function(e,t){var n,r;for(n=0,r=t.length;n<r;n++)e.removeChild(t[n])},_setAttrs:function(t,n,r){this._originalFormAttrs={action:t.getAttribute("action"),target:t.getAttribute("target")},t.setAttribute("action",r),t.setAttribute("method","POST"),t.setAttribute("target","io_iframe"+n),t.setAttribute(e.UA.ie&&!i?"encoding":"enctype","multipart/form-data")},_resetAttrs:function(t,n){e.Object.each(n,function(e,n){e?t.setAttribute(n,e):t.removeAttribute(n)})},_startUploadTimeout:function(e,t){var r=this;r._timeout[e.id]=n.setTimeout(function(){e.status=0,e.statusText="timeout",r.complete(e,t),r.end(e,t)},t.timeout)},_clearUploadTimeout:function(e){var t=this;n.clearTimeout(t._timeout[e]),delete t._timeout[e]},_uploadComplete:function(t,r){var i=this,s=e.one("#io_iframe"+t.id).get("contentWindow.document"),o=s.one("body"),u;r.timeout&&i._clearUploadTimeout(t.id);try{o?(u=o.one("pre:first-child"),t.c.responseText=u?u.get("text"):o.get("text")):t.c.responseXML=s._node}catch(f){t.e="upload failure"}i.complete(t,r),i.end(t,r),n.setTimeout(function(){a(t.id)},0)},_upload:function(t,n,i){var s=this,o=typeof i.form.id=="string"?r.getElementById(i.form.id):i.form.id,u;return s._setAttrs(o,t.id,n),i.data&&(u=s._addData(o,i.data)),i.timeout&&s._startUploadTimeout(t,i),o.submit(),s.start(t,i),i.data&&s._removeData(o,u),{id:t.id,abort:function(){t.status=0,t.statusText="abort";if(!e.one("#io_iframe"+t.id))return!1;a(t.id),s.complete(t,i),s.end(t,i)},isInProgress:function(){return e.one("#io_iframe"+t.id)?!0:!1},io:s}},upload:function(e,t,n){return u(e,n,this),this._upload(e,t,n)},end:function(e,t){var n,i;return t&&(n=t.form,n&&n.upload&&(i=this,n=typeof n.id=="string"?r.getElementById(n.id):n.id,n&&i._resetAttrs(n,this._originalFormAttrs))),o.call(this,e,t)}},!0)},"3.16.0",{requires:["io-base","node-base"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("queue-promote",function(e,t){e.mix(e.Queue.prototype,{indexOf:function(t){return e.Array.indexOf(this._q,t)},promote:function(e){var t=this.indexOf(e);t>-1&&this._q.unshift(this._q.splice(t,1)[0])},remove:function(e){var t=this.indexOf(e);t>-1&&this._q.splice(t,1)}})},"3.16.0",{requires:["yui-base"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("io-queue",function(e,t){function r(e,t){return n.queue.apply(n,[e,t])}var n=e.io._map["io:0"]||new e.IO;e.mix(e.IO.prototype,{_q:new e.Queue,_qActiveId:null,_qInit:!1,_qState:1,_qShift:function(){var e=this,t=e._q.next();e._qActiveId=t.id,e._qState=0,e.send(t.uri,t.cfg,t.id)},queue:function(t,n){var r=this,i={uri:t,cfg:n,id:this._id++};return r._qInit||(e.on("io:complete",function(e,t){r._qNext(e)},r),r._qInit=!0),r._q.add(i),r._qState===1&&r._qShift(),i},_qNext:function(e){var t=this;t._qState=1,t._qActiveId===e&&t._q.size()>0&&t._qShift()},qPromote:function(e){this._q.promote(e)},qRemove:function(e){this._q.remove(e)},qEmpty:function(){this._q=new e.Queue},qStart:function(){var e=this;e._qState=1,e._q.size()>0&&e._qShift()},qStop:function(){this._qState=0},qSize:function(){return this._q.size()}},!0),r.start=function(){n.qStart()},r.stop=function(){n.qStop()},r.promote=function(e){n.qPromote(e)},r.remove=function(e){n.qRemove(e)},r.size=function(){n.qSize()},r.empty=function(){n.qEmpty()},e.io.queue=r},"3.16.0",{requires:["io-base","queue-promote"]});
YUI.add("rrd",function(e,t){"use strict";function i(t,i){if(!e.Lang.isString(i)){n.error("beacon URL missing");return}if(!t)return;if(!r||!r.location||r.location.host!==e.config.flickr.url.host)return;if(e.config.flickr.flipper["enable-rapid-only-performance-beaconing"])return;e.io(i,{method:"GET",data:t,timeout:1e4,on:{end:function(){}}})}var n=require("lib/flog")(t),r=e.config.win;e.RRD={queue:i}},"@VERSION@",{requires:["querystring-stringify","io"],affinity:"client"});
YUI.add("flickr-client-metrics",function(e,t){"use strict";function u(t){var n=1,i=r.appContext.getViewer().signedIn;if(e.config&&e.config.flickr){e.config.flickr.client_metrics_samples&&(n=e.config.flickr.client_metrics_samples["default"],e.config.flickr.client_metrics_samples[t]&&(n=typeof e.config.flickr.client_metrics_samples[t]=="object"?e.config.flickr.client_metrics_samples[t][i?"signedIn":"signedOut"]:e.config.flickr.client_metrics_samples[t]));if(e.config.flickr.request&&(e.config.flickr.request.UA.isBot||e.config.flickr.request.UA.isSharingBot))return!1}return o.isInSample(n)}function a(){var t=0,n={},o,f,l,c;if(!r.performance||!r.performance.timing||!r.pageTiming)return;if(r.pageTiming.timeAboveTheFold===-1||!r.performance.timing.loadEventEnd||!r.appContext||!r.appContext.flapp)t<100&&(t++,setTimeout(a,100));else{f=r.appContext.flapp.get("activeView"),i=r.appContext.getViewer().signedIn,o=r.performance.timing,c=r.pageTiming,f?f&&f.name&&(n.timing_pageid=r.appContext.flapp.get("activeView").name.replace(/-/g,"_")+"_coldstart",l=r.appContext.flapp.get("activeView").name.replace(/-/g,"_")):(n.timing_pageid="photo_page_view_coldstart",l="photo_page_view");if(u(l)){n.page_start=o.responseStart,n.page_generation=r.pageGenEnd-r.pageGenStart,n.js_done=c.jsDone||(new Date).getTime(),n.AFT=c.timeAboveTheFold,n.window_load=o.loadEventEnd,n.dom_ready=o.domInteractive,n.is_logged_in=i,e.config.flickr.pathogen&&(n.pathogen=1);if(r&&r.appContext&&r.appContext.getHealthBeaconer&&r.appContext.flipper.isFlipped("enable-beaconing-coldstart")){var h=r.appContext.getHealthBeaconer(),p=n.timing_pageid,d=["timing_pageid","is_logged_in"],v=["js_done","window_load","dom_ready","AFT"];Object.keys(n).forEach(function(e){if(d.indexOf(e)===-1){var t=n[e];v.indexOf(e)>-1&&t&&(t-=n.page_start),e==="page_start"&&(t-=o.domainLookupStart),h.beacon({name:"client_timings."+p+"."+e,type:"TYPE_STATS",aggregation:"AGG_AVERAGE",value:t||1})}})}e.RRD.queue(n,s)}}}function f(){}var n=require("lib/flog")(t),r=e.config.win,i=!1,s="/beacon_page_timings.gne",o=new e.Samplr;r&&(r.sessionStart=(new Date).getTime()),e.FlickrClientMetrics=function(t){this.appContext=t,this.activeViewChanges=0,this.pendingMarks=[],this.pendingMeasurementsByView={},this.hasPendingMarks=!1,this.isPending=!1,this.data={},this.url=e.config.win.location.href,this.publish("beacon"),this.publish("page_start"),this.publish("js_done"),this.publish("mark"),this.publish("record"),this.publish("abort")},e.FlickrClientMetrics.gatherColdStartData=a,e.FlickrClientMetrics.gatherPaftData=f,e.FlickrClientMetrics.isInSample=u,e.FlickrClientMetrics.prototype={setPendingMeasurement:function(e,t){t?this.pendingMeasurementsByView[e]=t:delete this.pendingMeasurementsByView[e]},hasPendingMeasurements:function(){return!!Object.keys(this.pendingMeasurementsByView).length},clearPendingMeasurements:function(){this.pendingMeasurementsByView={}},setPendingMark:function(t){var r=this,i=new e.Promise(t);return this.hasPendingMarks=!0,i.then(function(e){typeof e=="string"&&r.mark(e)},function(e){n.warn("Unable to set pending mark",{reason:e})}),this.pendingMarks.push(i),i},_handlePendingMarkSuccess:function(e){this.hasPendingMarks=!1,this.pendingMarks=[],Object.keys(this.data).length>0&&this.beacon()},_handlePendingMarkFailure:function(e){this.hasPendingMarks=!1,this.pendingMarks=[],this.data={},this.fire("abort")},beaconLater:function(){if(this.hasPendingMarks)return e.Promise.all(this.pendingMarks).then(this._handlePendingMarkSuccess.bind(this),this._handlePendingMarkFailure.bind(this));this.beacon()},getTimestamp:function(){return r&&r.performance&&r.performance.now?r.performance.now():(new Date).getTime()},mark:function(e){return this.data[e]=this.getTimestamp(),this.fire("mark",{markName:e}),!0},markStart:function(e,t){t&&typeof t=="object"?t.markName=e:t={markName:e},this.fire("mark_start",t)},markEnd:function(e,t){t&&typeof t=="object"?t.markName=e:t={markName:e},this.fire("mark_end",t)},start:function(e){this.isPending=!0,this.url=e,this.data={},this.data.page_start=this.getTimestamp(),this.fire("page_start")},record:function(e,t){return this.data[e]=t,this.fire("record",{markName:e,timestamp:t}),!0},end:function(){var e=this.getTimestamp();if(!this.isPending){n.warn("Calling `end` without calling `start`");return}this.data.dom_ready=e,this.data.js_done=e,this.data.page_generation=e-this.data.page_start,this.activeViewChanges++,this.data.active_view_changes=this.activeViewChanges,this.isPending=!1,this.fire("js_done"),this.beacon()},beacon:function(){var t=0,r,i;return e.config.win.location.href!==this.url?(this.fire("abort"),-1):this.isPending||this.hasPendingMarks||this.hasPendingMeasurements()?-1:Object.keys(this.data).length<1?(n.warn("Trying to beacon with no data"),-1):(r=this.appContext.flapp.get("activeView"),i=r.name.replace(/-/g,"_"),this.data.timing_pageid=i+"_inpage",this.data.is_logged_in=this.appContext.getViewer().signedIn,this.data.spaceid=r.get("spaceid"),e.config.flickr.pathogen&&(this.data.pathogen=1),this.fire("beacon",{data:this.data}),u(i)&&(e.RRD.queue(this.data,s),t=1),this.beaconAFTMinusPhotoLoad(),this.data={},t)},beaconAFTMinusPhotoLoad:function(){return}},e.augment(e.FlickrClientMetrics,e.EventTarget,!0,null,{prefix:"metrics"})},"@VERSION@",{requires:["samplr","event-custom","flickr-promise","rrd"],affinity:"client"});
YUI.add("client-transport",function(e){"use strict";function h(e){var n;if(e.data.photo_id&&u.photos[e.data.photo_id]){for(n in u.photos[e.data.photo_id])t.unset(n);delete u.photos[e.data.photo_id]}if(e.data.user_id&&u.users[e.data.user_id]){for(n in u.users[e.data.user_id])t.unset(n);delete u.users[e.data.user_id]}}function p(e,t){var n;while(n=s.exec(t))u.photos[n[1]]||(u.photos[n[1]]={}),u.photos[n[1]][e]=e;while(n=o.exec(t))u.users[n[1]]||(u.users[n[1]]={}),u.users[n[1]][e]=e}function d(){var t="/hermes_error_beacon.gne";return new e.Promise(function(n,i){c?l({uri:t},function(e,t,r){var s;t=t.rawRequest;try{s=JSON.parse(t.responseText)||{}}catch(o){return i({status:0,message:"invalid JSON in response",resp:t})}if(!s.site_key)return i({status:0,message:"invalid JSON content, no site_key found",resp:t});n(s)}):e.io(t,{method:"GET",timeout:r,on:{complete:function(e,t){var r;try{r=JSON.parse(t.responseText)||{}}catch(s){return i({status:0,message:"invalid JSON in response",resp:t})}if(!r.site_key)return i({status:0,message:"invalid JSON content, no site_key found",resp:t});n(r)}}})})}function v(t){var n={flickr:!0,data:{method:"flickr.site.getCsrf"}},r=t,i=this;return new e.Promise(function(e,t){this.resolve=function(t){e({token:t.token._content})},this.reject=t,y.call(i,r,n,this)})}function m(e,t){return g.call(this,e,t)}function g(t,n,r){var i,s=this;return i=function(){var o;return s.keys.siteKey.isExpired()?(o=s.keys.siteKey.fetch(),o=o.then(i),o):s.keys.csrf.isExpired()?(o=s.keys.csrf.fetch(),o=o.then(i),o):r?(y.call(s,t,n,r,g),r):new e.Promise(function(e,r){this.resolve=e,this.reject=r,y.call(s,t,n,this,g)})},i()}function y(n,r,s,o){var u,d,v,m,g=this,y,E,S,x,T,N,C;m=e.config.flickr.request?e.config.flickr.request.id:window.reqId,r=r||{},r.data=r.data||{},r.data.csrf=this.keys.csrf.getKey(),r.data.api_key=this.keys.siteKey.getKey();if(!r.data.api_key){var k="Invalid API key.",L=new Error(k);w(k,{}),L.fatal=!0,L.panda=!0,s.reject(L);return}r.method=r.method||"GET",r.data.format="json",r.data.hermes=1,r.data.hermesClient=1,r.data.reqId=m,u=n,v=u+JSON.stringify(r.data),r.data.method&&r.data.method.match(a)&&(r.method="POST",h(r)),d=t.get(v);if(d)return e.when(d,s.resolve);r.data.nojsoncallback=1,this._authRetry=this._authRetry||0,this._authRetry++,y=(new Date).getTime(),E=r.data.method,S=r.data,x={method:r.method,data:r.data,xdr:{use:"native",credentials:!0,dataType:"application/json"},on:{complete:function(u,a){var l={},d=f.exclude[r.data.method]===!0,T=f.include[r.data.method]!==!1,k=(new Date).getTime(),L=0,A,O;c&&(A=u,a=a.rawRequest);try{L=a.status}catch(M){}l.reqId=m;if(L===404){s.resolve({status:404}),l.apiMethod=E,e.fire("client-transport:apiError",l);return}if(L===0&&a&&a.readyState!==4){setTimeout(function(){e.ClientTransport.unloading||(O={status:0,resp:a,message:"XHR aborted:"+a.readyState},O.total=k-y,O.apiMethod=E,c&&A&&(O.message+=": "+A.message),O.total>x.timeout&&(O.timeout=!0,O.clientTimeout=!0,O.message="XHR Timeout"),s.reject(O),l.apiMethod=E,e.fire("client-transport:apiError",l))},10),b(C,"abort",N);return}if(L===0){O={status:0,resp:a,message:"XHR error"},O.total=k-y,O.apiMethod=E,c&&A&&(O.message+=": "+A.message),O.total>x.timeout&&(O.timeout=!0,O.clientTimeout=!0,O.message="XHR Timeout");try{var _=new Image;_.addEventListener("error",function(){w("XHR maybe dns issue",{})},!1),_.src=e.config.flickr.api.hostname_client_https+"/services/spaceout.gif"}catch(M){}s.reject(O),l.apiMethod=E,e.fire("client-transport:apiError",l),b(C,"error",N);return}try{l=JSON.parse(a.responseText)||{}}catch(M){s.reject({status:0,message:"invalid JSON in response",resp:a}),l.apiMethod=E,e.fire("client-transport:apiError",l);return}if(l.stat!=="ok"){l.code=Number(l.code);if(o&&[98,99,100].indexOf(l.code)>=0&&g._authRetry<i){l.code===98&&g.keys.csrf.invalidate(y),g.keys.siteKey.invalidate(y),o.call(g,n,r,s);return}return l.apiMethod=E,e.fire("client-transport:apiError",l),E==="flickr.site.getCsrf"?s.reject(l):s.resolve(l)}e.soon(function(){e.fire("client-transport:apiTime",{start:y,end:k,method:S.method})}),g._authRetry=0,s.resolve(l);if(r.method!=="GET")return;T&&!d&&(p(v,a.responseText),t.set(v,l),setTimeout(function(){h(r)},12e4))},start:function(){},end:function(){},failure:function(){}}};try{C=u+"?"+e.QueryString.stringify(x.data)}catch(A){}T=(new Date).getTime();var O={useXDR:!0,method:r.method,withCredentials:"true"};c&&(r.method==="POST"?(O.url=u,O.body=e.QueryString.stringify(x.data),O.headers={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}):O.url=C);if(window.document.readyState!=="complete"){var M=window.document.onreadystatechange;window.document.onreadystatechange=function(){window.document.readyState==="complete"&&(M&&typeof M=="function"&&M(),c?l(O,x.on.complete):e.io(u,x),N=(new Date).getTime()-T)}}else c?l(O,x.on.complete):e.io(u,x),N=(new Date).getTime()-T}function b(t,n,r){var i={},s=e.config.win,o;try{t&&s.performance&&s.performance.getEntriesByName&&(o=s.performance.getEntriesByName(t),o&&o.length>0&&o[0]&&(o=o[o.length-1],i={dns:parseInt(o.domainLookupEnd-o.domainLookupStart),tcp:parseInt(o.connectEnd-o.connectStart),ttfb:parseInt(o.responseStart-o.startTime),transfer:parseInt(o.responseEnd-o.responseStart),total:parseInt(o.responseEnd-o.startTime),connectTime:r})),r&&(i.connectTime=r),Object.keys(i).length>0&&!YUI.Env.isServer&&e.config.win.beaconError&&e.config.win.beaconError("[FlickrAPI] XHR "+n+":",e.config.win.location.href,i)}catch(u){}}function w(t,n){var r=e.config.win;try{!YUI.Env.isServer&&e.config.win.beaconError&&n&&r.beaconError("[FlickrAPI] "+t+":",r.location.href,n)}catch(i){}}var t=e.betterCache,n,r=e.config.flickr.transport.default_timeout,i=10,s=/"id":"([0-9]+)"/g,o=/"nsid":"([0-9]+@N[0-9]+)"/g,u={photos:{},users:{}},a=new RegExp(e.config.flickr.api.write_api_method_regex),f={include:{"flickr.sharing.getServiceTypes":!0},exclude:{"flickr.sharing.getServices":!0,"flickr.sharing.canShare":!0,"flickr.sharing.getAuthorizeUrl":!0,"flickr.products.orders.getOrder"
:!0,"flickr.cameraroll.getMap":!0,"flickr.cameraroll.getMapVersion":!0,"flickr.cameraroll.getPhotosByOffset":!0,"flickr.cameraroll.tags.getPhotoIds":!0,"flickr.photos.getPhotos":!0,"flickr.photos.upload.checkTickets":!0,"flickr.photos.recentlyDeleted":!0,"flickr.photos.recentlyUploaded":!0,"flickr.photos.recentlyUpdated":!0,"flickr.photosets.getList":!0,"flickr.people.getPhotos":!0,"flickr.activity.getNotificationsCount":!0,"flickr.activity.recentByType":!0}},l=require("xhr"),c;YUI.F=YUI.F||{},YUI.F.jsonCallbacks={},e.ClientTransport=n=function(e){this.keys=n._keys,c=e["enable-xhr-lib-for-client-xhrs"]},n._keys={csrf:null,siteKey:null},n.authorize=function(t){n._keys.siteKey=new e.SiteKey(null,t.flickrAPI),n._keys.siteKey.scheduleFutureFetch(),n._keys.csrf=new e.CsrfUpdater(t.flickrAPI),n._keys.csrf.scheduleFutureFetch()},e.ClientTransport.prototype={makeRequest:m,makeSiteKeyRequest:d,makeCsrfRequest:v}},"@VERSION@",{requires:["querystring-stringify","better-cache","io-xdr","flickr-router","site-key","csrf-updater","flickr-client-metrics","flickr-promise"],affinity:"client"});
YUI.add("flickr-api-metrics",function(e){"use strict";var t=e.config.win,n="/beacon_client_api_timings.gne",r=new e.Samplr;e.FlickrAPIMetrics=function(){this.apiTimes=[];var i,s=this;e.config.flickr.client_metrics_samples&&e.config.flickr.client_metrics_samples.api_timings?i=r.isInSample(e.config.flickr.client_metrics_samples.api_timings):i=!0,i&&(e.on("client-transport:apiTime",function(e){s.beaconApiTiming(e)}),e.on("client-transport:apiError",function(r){var i={};r.apiMethod&&(i.m=r.apiMethod),r.reqId&&(i.reqId=r.reqId),r&&r.code?(i.e=r.code,t&&(i.a=(new Date).getTime()-t.sessionStart),e.RRD.queue(i,n)):r&&r.statusText==="timeout"&&(i.timeout=!0,e.config.flickr.api.hostname_client_https&&(i.api=e.config.flickr.api.hostname_client_https.replace(/https:\/\/|\//g,"")),e.RRD.queue(i,n))}),e.on("csrf:goodkey",function(r){e.RRD.queue({e:"goodcsrf",a:(new Date).getTime()-t.sessionStart},n)}),e.on("site-key:badkey",function(r){e.RRD.queue({e:"badsitekey",a:(new Date).getTime()-t.sessionStart},n)}),e.on("site-key:goodkey",function(r){e.RRD.queue({e:"goodsitekey",a:(new Date).getTime()-t.sessionStart},n)}))},e.FlickrAPIMetrics.prototype={beaconApiTiming:function(t){var i=this;if(e.config.flickr.client_metrics_samples&&e.config.flickr.client_metrics_samples.api_timings!=="undefined"){this.apiSample=r.isInSample(e.config.flickr.client_metrics_samples.api_timings);if(!this.apiSample)return}else this.apiSample=!0;this.apiTimes.push(t),this.beaconTimer&&clearTimeout(this.beaconTimer),this.beaconTimer=setTimeout(function(){var t,r,s;if(i.apiTimes.length<1)return;r="",s=[];for(t=i.apiTimes.length-1;t>=0;t--)s.push(i.apiTimes[t].method+";"+(i.apiTimes[t].end-i.apiTimes[t].start));r=s.join(":"),e.RRD.queue({d:r},n),i.apiTimes=[]},1e3)}}},"@VERSION@",{requires:["samplr","rrd"],affinity:"client"});
YUI.add("vendor-wrapper",function(e,t){e[t]=function(e,t){return function(){try{return e.apply(t||this,arguments)}catch(n){}}}},"@VERSION@");
YUI.add("vendor-lighthouse",function(e,t){LH_start=+(new Date),function(e){"use strict";if(e.LH!==undefined&&e.LH.version!==undefined)return;var t="0.11",n=(window.location.protocol||document.location.protocol||"http:")+"//lh.secure.yahoo.com/lhbeam-"+t,r="root",i={beacon_url:n,timelines:{},tags:{},beaconNumber:0,navtimingBeaconSent:!1,beaconTimeout:10,onloadHandler:function(){setTimeout(i.onloadWorker,i.beaconTimeout)},onloadWorker:function(){var e=i.getPerformance();e.timing&&e.timing.loadEventEnd===0?setTimeout(i.onloadWorker,i.beaconTimeout):LH.beacon()},getBeaconUrl:function(){var t=this.beacon_url,n=e.document;return t?(t+=(t.indexOf("?")>-1?"&":"?")+"_uuid="+(this.uuid===null||this.uuid===undefined?"":encodeURIComponent(this.uuid)),t+="&_sid="+(this.spaceid===null||this.spaceid===undefined?"":encodeURIComponent(this.spaceid)),t+="&_sip="+(this.serverip===null||this.serverip===undefined?"":encodeURIComponent(this.serverip)),t+="&_pod="+i.getPod(),this.crumb&&(t+="&_crumb="+encodeURIComponent(this.crumb)),this.pvid&&(t+="&_pvid="+encodeURIComponent(this.pvid)),this.offset>0&&(t+="&offset="+this.offset),t+=(t.indexOf("?")>-1?"&":"?")+"u="+encodeURIComponent(n.URL.replace(/#.*/,"")),t):t},getPod:function(){var e="",t,n;return this.via&&(t=this.via.split(","),n=t[0].replace(/^\s+|\s+$/g,""),t=n.split(" "),t=/[^\[\(\]\)]*/.exec(t[1]),e=t[0]),encodeURIComponent(e)},metrics:[],checkElemInMetrics:function(e){if(!i.metrics||i.metrics.length==0)return!0;for(var t in i.metrics)if(e===i.metrics[t])return!0;return!1},timelineFactory:function(e){return{state:0,name:e,startTime:parseInt(i.getPerformance().now()),dirty:!1,tags:{entries:{},toString:function(){var e="",t;for(t in this.entries){if(!this.entries.hasOwnProperty(t))continue;this.entries[t]===!0?e+="|t:"+t:e+="|t:"+t+","+this.entries[t]}return e}},type:{mark:{dirty:!1,entries:{},toString:function(){var e="",t,n;for(t in this.entries){if(!this.entries.hasOwnProperty(t)||!i.checkElemInMetrics(t))continue;e+="|m:"+t+",";for(n in this.entries[t])e+=this.entries[t][n].startTime+";"}return e}},measure:{dirty:!1,entries:{},toString:function(){var e="",t,n;for(t in this.entries){if(!this.entries.hasOwnProperty(t)||!i.checkElemInMetrics(t))continue;e+="|s:"+t+",";for(n in this.entries[t])e+=this.entries[t][n].startTime+","+this.entries[t][n].duration+";"}return e}},custom:{dirty:!1,entries:{},toString:function(){var e="",t,n;for(t in this.entries){if(!this.entries.hasOwnProperty(t)||!i.checkElemInMetrics(t))continue;e+="|r:"+t+",";for(n in this.entries[t])e+=this.entries[t][n].type+","+this.entries[t][n].startTime+","+this.entries[t][n].duration+";"}return e}}},toString:function(e){return e||(e=""),"c="+this.name+","+this.state+e+this.tags.toString()+e+this.type.mark.toString()+e+this.type.measure.toString()+e+this.type.custom.toString()}}},navTiming:function(){var e,t=i.getPerformance(),n,r,s,o;return t&&t.timing&&t.navigation&&(n=t.navigation,r=t.timing,o=r.navigationStart,s={navT:n.type,navS:o,fetS:r.fetchStart-o,dluS:r.domainLookupStart-o,dluE:r.domainLookupEnd-o,conS:r.connectStart-o,conE:r.connectEnd-o,reqS:r.requestStart-o,resS:r.responseStart-o,resE:r.responseEnd-o,domL:r.domLoading-o,domI:r.domInteractive-o,domS:r.domContentLoadedEventStart-o,domE:r.domContentLoadedEventEnd-o,domC:r.domComplete-o,lodS:r.loadEventStart-o,lodE:r.loadEventEnd-o},typeof r.linkNegotiationStart!="undefined"&&r.linkNegotiationStart!==0&&(s.lnkS=r.linkNegotiationStart-o),typeof r.linkNegotiationEnd!="undefined"&&r.linkNegotiationEnd!==0&&(s.lnkE=r.linkNegotiationEnd-o),r.unloadEventStart!==0&&(s.uldS=r.unloadEventStart-o,s.uldE=r.unloadEventEnd-o),r.redirectStart!==0&&(s.redC=n.redirectCount,s.redS=r.redirectStart-o,s.redE=r.redirectEnd-o),typeof r.secureConnectionStart=="number"&&(s.secS=r.secureConnectionStart>0?Math.max(1,r.secureConnectionStart-o):0),s.toString=function(t){var n="n=",r=0,s;if(i.hasOwnProperty("tags"))for(s in i.tags){if(!i.tags.hasOwnProperty(s))continue;n+=(r>0?"|":"")+"t:",i.tags[s]===!0?n+=s:n+=s+","+i.tags[s],r++}for(e in this){if(!this.hasOwnProperty(e)||e==="toString")continue;n+=(r>0?"|":"")+encodeURIComponent(e)+(this[e]===null||this[e]===undefined||parseInt(this[e])<=0?"":","+encodeURIComponent(this[e])),r++}return n}),s},offset:0,myNow:function(){return i.offset==0&&(i.offset=LH_start),+(new Date)-i.offset},getPerformance:function(){var t=e.performance||e.webkitPerformance||e.msPerformance||e.mozPerformance||e.Performance||{};return typeof t.now!="function"&&typeof t.webkitNow!="function"&&typeof t.msNow!="function"&&typeof t.mozNow!="function"&&(t.now=i.myNow),t.now=t.now||t.webkitNow||t.msNow||t.mozNow,t},getQueryParams:function(){var e={},t,n=/[?&]?([^=]+)=([^&]*)/g,r=window.location.search||document.location.search;r=r.split("+").join(" ");while(t=n.exec(r))e[decodeURIComponent(t[1])]=decodeURIComponent(t[2]);return e}};i.timelines.hasOwnProperty(r)||(i.timelines[r]=i.timelineFactory(r)),e.LH={t_start:LH_start,version:t,isInitialized:!1,init:function(t){var n,r,s=i.getQueryParams();t||(t={});for(n in t)t.hasOwnProperty(n)&&typeof t[n]!="function"&&(i[n]=t[n]);for(n in s)s.hasOwnProperty(n)&&n.toLowerCase()=="lh_debug"&&(s[n]===!0||s[n]==="true"||s[n]==="1")&&(i[n]=s[n]);return LH.isInitialized=!0,typeof t.log!="undefined"&&(this.log=t.log),this.log||(this.log=function(e,t,n){}),r=i.getPerformance(),r.timing&&r.timing.loadEventEnd==0?e.addEventListener?e.addEventListener("load",i.onloadHandler,!1):e.attachEvent&&e.attachEvent("onload",i.onloadHandler):i.onloadHandler(),this},metrics:function(e){typeof e=="string"?i.metrics=e.split(","):e instanceof Array&&(i.metrics=e)},newState:function(e){if(e!==undefined){if(!i.timelines.hasOwnProperty(e))throw new TypeError("Context not found");i.timelines.context.state++}e!=r&&i.timelines[r].state++},newContext:function(e){i.timelines.hasOwnProperty(e)||(i.timelines[e]=i.timelineFactory(e))},tag:function(e,t){var n,s=r,o;t&&(n=t.val),t&&typeof t.context=="string"&&(s=t.context),o=i.timelines
[s],n!==undefined?o.tags.entries[e]=n:o.tags.entries[e]=!0},mark:function(e,t){var n=r,s,o,u,a;if(!e)throw new TypeError("Not enough arguments");return t&&typeof t.context=="string"&&(n=t.context),s=i.timelines[n],o=s.type.mark,u=o.entries,u[e]||(u[e]=[]),a={duration:0,entryType:"mark",name:e,startTime:parseInt(i.getPerformance().now())},u[e].push(a),o.dirty=!0,s.dirty=!0,a},measure:function(e,t){var n,s,o=r,u,a,f,l=[],h={name:e,entryType:"measure"},p,d;t&&(n=typeof t.startMark=="string"?t.startMark:n,s=typeof t.endMark=="string"?t.endMark:s,a=typeof t.startMark=="object"?t.startMark:null,f=typeof t.endMark=="object"?t.endMark:null,o=typeof t.context=="string"?t.context:o),u=i.timelines[o],p=u.type.measure,d=p.entries;if(!e)throw new TypeError("Not enough arguments");if((s||f)&&!n&&!a)throw new SyntaxError("No startMark provided with endMark");if(n||a){n&&(l=u.type.mark.entries[n]);if(!a&&l instanceof Array&&l.length>0)a=l[l.length-1];else if(!a)throw new SyntaxError("startMark not found");h.startTime=a.startTime;if(s||f){s&&(l=u.type.mark.entries[s]);if(!f&&l instanceof Array&&l.length>0)f=l[l.length-1];else if(!f)throw new SyntaxError("endMark not found");h.duration=f.startTime-a.startTime}else h.duration=parseInt(i.getPerformance().now())-a.startTime}else h.startTime=0,h.duration=parseInt(i.getPerformance().now());return d[e]||(d[e]=[]),d[e].push(h),p.dirty=!0,u.dirty=!0,h},record:function(e,t,n){var s=r,o,u,a;return n&&typeof n.context=="string"&&(s=n.context),o=i.timelines[s],u=o.type.custom,a=u.entries,a[e]||(a[e]=[]),a[e].push(t),u.dirty=!0,o.dirty=!0,t},clearMarks:function(e){var t=r,n,s,o;e&&typeof e.context=="string"&&(t=e.context),n=i.timelines[t],s=n.type.mark,o=s.entries,e&&typeof e.name=="string"?o[name]&&(o[name].length=0,s.dirty=!0,n.dirty=!0):(s.entries={},s.dirty=!0,n.dirty=!0)},clearMeasures:function(e){var t=r,n,s,o;e&&typeof e.context=="string"&&(t=e.context),n=i.timelines[t],s=n.type.measure,o=s.entries,e&&typeof e.name=="string"?o[name]&&(o[name].length=0,s.dirty=!0,n.dirty=!0):(s.entries={},s.dirty=!0,n.dirty=!0)},clearCustomEntries:function(e){var t=r,n,s,o;e&&typeof e.context=="string"&&(t=e.context),n=i.timelines[t],s=n.type.custom,o=s.entries,e&&typeof e.name=="string"?o[name]&&(o[name].length=0,s.dirty=!0,n.dirty=!0):(s.entries={},s.dirty=!0,n.dirty=!0)},clearTags:function(e){var t=r,n;e&&typeof e.context=="string"&&(t=e.context),n=i.timelines[t],e&&typeof e.name=="string"?n.tags.entries[name]&&(delete n.tags.entries[name],n.dirty=!0):(n.tags.entries={},n.dirty=!0)},beacon:function(e){var t,n,s,o,u,a,f=r,l,h,p,d,v,m,g,y=i.LH_debug&&(i.LH_debug===!0||i.LH_debug==="true"||i.LH_debug==="1");if(i.hasOwnProperty("rapidOnly")){g=i.rapidOnly;if(g)return!1}i.hasOwnProperty("spaceid")&&(t=i.spaceid),i.hasOwnProperty("serverip")&&(n=i.serverip),i.hasOwnProperty("pvid")&&(o=i.pvid),i.hasOwnProperty("crumb")&&(u=i.crumb),i.hasOwnProperty("via")&&(s=i.via),e&&e.hasOwnProperty("spaceid")&&(i.spaceid=e.spaceid),e&&e.hasOwnProperty("serverip")&&(i.serverip=e.serverip),e&&e.hasOwnProperty("pvid")&&(i.pvid=e.pvid),e&&e.hasOwnProperty("crumb")&&(i.crumb=e.crumb),e&&e.hasOwnProperty("via")&&(i.via=e.via),a=i.getBeaconUrl(),t&&(i.spaceid=t),n&&(i.serverip=n),o&&(i.pvid=o),u&&(i.crumb=u),s&&(i.via=s);if(y){m=i.getPerformance();if(m.getEntriesByType){l=m.getEntriesByType("resource"),console.log("Resources present: "+l.length);for(v in l)(l[v].name.indexOf("lh-")>=0||l[v].name.indexOf("lighthouse")>=0)&&console.log("Time for lighthouse resource",l[v])}}return a?(i.navtimingBeaconSent||(h=i.navTiming(),h&&h.lodE>0&&(a+=(a.indexOf("?")>-1?"&":"?")+i.navTiming().toString(),i.navtimingBeaconSent=!0)),e&&typeof e.context=="string"&&(f=e.context),p=i.timelines[f],a+=(a.indexOf("?")>-1?"&":"?")+p.toString(),y&&console.log("beacon url: "+a),i.beaconNumber++,d=new Image,y&&(d.onload=d.onerror=d.onabort=function(e){var t=e;return function(){var e=LH.mark("LH.endBeacon"),n=LH.measure("LH.beacon",{startMark:t,endMark:e});console.log("beacon response received",n)}}(LH.mark("LH.startBeacon"))),d.src=a,e&&e.clearMarks&&this.clearMarks(),e&&e.clearMeasures&&this.clearMeasures(),e&&e.clearCustomEntries&&this.clearCustomEntries(),e&&e.clearTags&&this.clearTags(),this):this},userMetricList:function(){var e=r,t;t=i.timelines[e];var n=function(e,t){var n=[],r,s="";for(s in e){if(!e.hasOwnProperty(s)||!i.checkElemInMetrics(s))continue;r={},r.n=s,r.e=t;var o=e[s].length;r.s=e[s][o-1].startTime,r.d=e[s][o-1].duration,n.push(r)}return n},s=[],o,u,a,f=n(t.type.mark.entries,"m");s=s.concat(f);var l=n(t.type.measure.entries,"s");s=s.concat(l);var h=n(t.type.custom.entries,"r");return s=s.concat(h),s},rapidUserMetrics:function(){var e=LH.userMetricList(),t={};for(var n=0;n<e.length;n++){var r=e[n];if(r.e==="s")t[r.n]=r.d;else if(r.e==="m"||r.e==="r")t[r.n]=r.s}var i={utm:t};return i}}}(window)},"@VERSION@",{affinity:"client"});
YUI.add("lighthouse",function(e,t){"use strict";var n=require("lib/flog")(t),r=e.config.win,i,s=new e.Samplr;!r||!r.LH?n.warn("Missing Lighthouse vendor JS!"):(e.LH=i=r.LH,i.record=e["vendor-wrapper"](i.record),i.beacon=e["vendor-wrapper"](i.beacon),i.clearMarks=e["vendor-wrapper"](i.clearMarks),i.mark=e["vendor-wrapper"](i.mark),i.measure=e["vendor-wrapper"](i.measure)),e.config.flickr.performance_samples||n.warn("Missing Lighthouse sampling rates"),e.Lighthouse=function(t){this.hasData=!1,this.beaconToRapid=t.beaconToRapid,this.rapid=t.rapid;var r=0,i=t.pageId,o=t.signedIn,u=e.config.flickr.performance_samples;r=u["default"],u[i]&&(r=typeof u[i]=="object"?u[i][o?"signedIn":"signedOut"]:u[i]);if(s.isInSample(r)){this.isActive=!0;try{this.initialize(t)}catch(a){n.warn("Lighthouse failed to initialize",{err:a})}}else n.log("Lighthouse did not initialize because the request is not in the sample")},e.Lighthouse.prototype={initialize:function(t){var n,s,o,u,a;a={uuid:t.uuid,spaceid:t.spaceId,serverip:t.hostname,pvid:111111,crumb:"AXAXYBGH123",tags:{b:"reboot"},rapidOnly:t.rapidOnly||!1},e.config.flickr.pathogen?a.tags.b="pathogen":e.config.flickr.cdnUrls?a.tags.b="YCS_https":window.appContext.getUA().isBot&&(a.tags.b="reboot_bots"),t.signedIn&&(a.tags.l=!0),i.init(a),r.performance&&r.performance.timing&&(s=r.performance.timing),t.paft&&r.paftTiming&&r.paftTiming.final&&s&&(o=r.paftTiming.final-s.navigationStart,i.record("AFT",{name:"AFT",type:"mark",startTime:o,duration:0}),i.record("AFT_SV",{name:"AFT_SV",type:"mark",startTime:o,duration:0}),this.beaconToRapid&&this.rapid.beaconPerformanceData({perf_usertime:i.rapidUserMetrics()}),i.beacon({spaceid:t.spaceId,clearMarks:!0,clearMeasures:!0,clearCustomEntries:!0,clearTags:!0})),r.pageTiming&&r.pageTiming.timeAboveTheFold&&r.pageTiming.timeAboveTheFold>0&&s&&(u=r.pageTiming.timeAboveTheFold-s.navigationStart,i.record("AFT",{name:"AFT",type:"mark",startTime:u,duration:0}),i.record("AFT_SV",{name:"AFT_SV",type:"mark",startTime:u,duration:0}),this.beaconToRapid&&this.rapid.beaconPerformanceData({perf_usertime:i.rapidUserMetrics()}),i.beacon({spaceid:t.spaceId,clearMarks:!0,clearMeasures:!0,clearCustomEntries:!0,clearTags:!0})),n=t.clientMetrics;if(!n)throw new Error("No client metrics found");n.on("metrics:page_start",this.handlePageStart.bind(this)),n.on("metrics:js_done",this.handleJSDone.bind(this)),n.on("metrics:mark",this.handleMark.bind(this)),n.on("metrics:record",this.handleRecord.bind(this)),n.on("metrics:beacon",this.handleBeacon.bind(this)),n.on("metrics:abort",this.abort.bind(this)),n.on("metrics:mark_start",this.handleMarkStart.bind(this)),n.on("metrics:mark_end",this.handleMarkEnd.bind(this))},abort:function(e){i.clearMarks(),i.clearMeasures(),i.clearCustomEntries(),i.clearTags(),this.hasData=!1},handlePageStart:function(e){i.mark("mark_unload"),this.hasData=!0},handleJSDone:function(e){try{i.mark("mark_fully_loaded"),i.measure("js_done",{startMark:"mark_unload",endMark:"mark_fully_loaded"})}catch(t){this.abort()}},handleMark:function(e){if(e.markName)try{var t;i.mark(e.markName),t=i.measure(e.markName,{startMark:"mark_unload",endMark:e.markName}),t.type=t.entryType,i.record(e.markName,{name:e.markName,type:"mark",startTime:t.duration,duration:0}),this.hasData=!0}catch(n){this.abort()}},handleRecord:function(e){if(e.markName&&e.timestamp)try{i.record(e.markName,{name:e.markName,type:"mark",startTime:e.timestamp,duration:0}),this.hasData=!0}catch(t){this.abort()}},handleMarkStart:function(e){if(e.markName)try{if(!!this.markedStart)return;this.markedStart=e,i.mark(e.markName+"_start")}catch(t){this.abort()}},handleMarkEnd:function(e){if(e.markName&&this.markedStart){if(this.markedStart.photoId!==e.photoId)return;try{i.mark(e.markName+"_end"),i.measure(e.markName,{startMark:e.markName+"_start",endMark:e.markName+"_end"})}catch(t){n.warn("not able to measure",{err:t}),this.abort()}this.markedStart=null}},handleBeacon:function(t){if(this.hasData){var n={clearMeasures:!0,clearCustomEntries:!0,clearMarks:!0};e.config.flickr.pathogen?i.tag("b","pathogen"):e.config.flickr.cdnUrls?i.tag("b","YCS_https"):window.appContext.getUA().isBot?i.tag("b","reboot_bots"):i.tag("b","reboot"),t.data&&(t.data.spaceid&&(n.spaceid=t.data.spaceid),t.data.is_logged_in&&i.tag("l",1)),i.clearMarks(),this.beaconToRapid&&this.rapid.beaconPerformanceData({perf_usertime:i.rapidUserMetrics()}),i.beacon(n),this.hasData=!1}}}},"@VERSION@",{requires:["vendor-wrapper","vendor-lighthouse","samplr"],affinity:"client"});
YUI.add("comscore",function(e,t){function n(e){var t="comScore=",n=document,r=n.cookie,i="",s="indexOf",o="substring",u="length",a=2048,f,l="&ns_",c="&",h,p,d,v,m=window,g=m.encodeURIComponent||escape;if(r[s](t)+1)for(d=0,p=r.split(";"),v=p[u];d<v;d++)h=p[d][s](t),h+1&&(i=c+unescape(p[d][o](h+t[u])));e+=l+"_t="+ +(new Date)+l+"c="+(n.characterSet||n.defaultCharset||"")+i,e[u]>a&&e[s](c)>0&&(f=e[o](0,a-8).lastIndexOf(c),e=(e[o](0,f)+l+"cut="+g(e[o](f+1)))[o](0,a)),n.images?(h=new Image,m.ns_p||(ns_p=h),h.src=e):n.write("<","p","><",'img src="',e,'" height="1" width="1" alt="*"',"><","/p",">")}typeof _comscore=="undefined"&&(_comscore=[]),function(){var e="length",t=self,r=t.encodeURIComponent?encodeURIComponent:escape,i=".scorecardresearch.com",s=Math,o="script",u="width",a=/c2=(\d*)&/,f,l=function(t){if(!!t){var s,o=[],u,a=0,f,l,c="";for(var h in t){u=typeof t[h];if(u=="string"||u=="number")o[o[e]]=h+"="+r(t[h]),h=="c2"?c=t[h]:h=="c1"&&(a=1)}if(o[e]<=0||c=="")return;l=t.options||{},l.d=l.d||document;if(typeof l.url_append=="string"){f=l.url_append.replace(/&amp;/,"&").split("&");for(var h=0,p=f[e],v;h<p;h++)v=f[h].split("="),v[e]==2&&(o[o[e]]=v[0]+"="+r(v[1]))}s=["http",l.d.URL.charAt(4)=="s"?"s://sb":"://b",i,"/p?",a?"":"c1=2&",o.join("&").replace(/&$/,"")],n(s.join(""))}},c=function(t){t=t||_comscore;for(var n=0,r=t[e];n<r;n++)l(t[n]);t=_comscore=[]};c(),(f=t.COMSCORE)?(f.purge=c,f.beacon=l):COMSCORE={purge:c,beacon:l}}(),e.comscore=COMSCORE},"@VERSION@",{affinity:"client"});
YUI.add("loader-bar",function(e){if(YUI.Env.isServer){e.loaderBar={start:function(){},progress:function(){},finish:function(){}};return}e.use("node","dom",function(e){function l(){r=!0,t=100*Math.random(),t=t>20?t:20,i?(a(i),i.setStyle("display","block")):(i=e.Node.create('<div class="loader-bar">'),e.one("body").append(i),a(i)),i.setStyle("width",t+"px"),n=setInterval(function(){t=i.get("offsetWidth"),t>=e.config.win.innerWidth-5&&(i.setStyle("display","none"),f(i),clearInterval(n),r=!1)},100)}var t=0,n,r=!1,i=null,s,o=e.one("html").hasClass("is-pride-day"),u=e.one("html").hasClass("is-french-day"),a=function(e){o?e.addClass("pride-day-background"):u&&e.addClass("french-day-background")},f=function(e){o?e.removeClass("pride-day-background"):u&&e.removeClass("french-day-background")};e.loaderBar={start:function(){if(r)return;clearTimeout(s),s=setTimeout(l,60)},progress:function(){if(!r)return;t+=Math.round(e.config.win.innerWidth*Math.random()*.5),i.setStyle("width",t+"px")},finish:function(){clearTimeout(s);if(!r)return;i.setStyle("width",e.config.win.innerWidth+"px")}}})},"@VERSION@",{requires:[]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("pluginhost-base",function(e,t){function r(){this._plugins={}}var n=e.Lang;r.prototype={plug:function(e,t){var r,i,s;if(n.isArray(e))for(r=0,i=e.length;r<i;r++)this.plug(e[r]);else e&&!n.isFunction(e)&&(t=e.cfg,e=e.fn),e&&e.NS&&(s=e.NS,t=t||{},t.host=this,this.hasPlugin(s)?this[s].setAttrs&&this[s].setAttrs(t):(this[s]=new e(t),this._plugins[s]=e));return this},unplug:function(e){var t=e,r=this._plugins;if(e)n.isFunction(e)&&(t=e.NS,t&&(!r[t]||r[t]!==e)&&(t=null)),t&&(this[t]&&(this[t].destroy&&this[t].destroy(),delete this[t]),r[t]&&delete r[t]);else for(t in this._plugins)this._plugins.hasOwnProperty(t)&&this.unplug(t);return this},hasPlugin:function(e){return this._plugins[e]&&this[e]},_initPlugins:function(e){this._plugins=this._plugins||{},this._initConfigPlugins&&this._initConfigPlugins(e)},_destroyPlugins:function(){this.unplug()}},e.namespace("Plugin").Host=r},"3.16.0",{requires:["yui-base"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("pluginhost-config",function(e,t){var n=e.Plugin.Host,r=e.Lang;n.prototype._initConfigPlugins=function(t){var n=this._getClasses?this._getClasses():[this.constructor],r=[],i={},s,o,u,a,f;for(o=n.length-1;o>=0;o--)s=n[o],a=s._UNPLUG,a&&e.mix(i,a,!0),u=s._PLUG,u&&e.mix(r,u,!0);for(f in r)r.hasOwnProperty(f)&&(i[f]||this.plug(r[f]));t&&t.plugins&&this.plug(t.plugins)},n.plug=function(t,n,i){var s,o,u,a;if(t!==e.Base){t._PLUG=t._PLUG||{},r.isArray(n)||(i&&(n={fn:n,cfg:i}),n=[n]);for(o=0,u=n.length;o<u;o++)s=n[o],a=s.NAME||s.fn.NAME,t._PLUG[a]=s}},n.unplug=function(t,n){var i,s,o,u;if(t!==e.Base){t._UNPLUG=t._UNPLUG||{},r.isArray(n)||(n=[n]);for(s=0,o=n.length;s<o;s++)i=n[s],u=i.NAME,t._PLUG[u]?delete t._PLUG[u]:t._UNPLUG[u]=i}}},"3.16.0",{requires:["pluginhost-base"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("node-pluginhost",function(e,t){e.Node.plug=function(){var t=e.Array(arguments);return t.unshift(e.Node),e.Plugin.Host.plug.apply(e.Base,t),e.Node},e.Node.unplug=function(){var t=e.Array(arguments);return t.unshift(e.Node),e.Plugin.Host.unplug.apply(e.Base,t),e.Node},e.mix(e.Node,e.Plugin.Host,!1,null,1),e.Object.each(e.Node._instances,function(t){e.Plugin.Host.apply(t)}),e.NodeList.prototype.plug=function(){var t=arguments;return e.NodeList.each(this,function(n){e.Node.prototype.plug.apply(e.one(n),t)}),this},e.NodeList.prototype.unplug=function(){var t=arguments;return e.NodeList.each(this,function(n){e.Node.prototype.unplug.apply(e.one(n),t)}),this}},"3.16.0",{requires:["node-base","pluginhost"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("dom-screen",function(e,t){(function(e){var t="documentElement",n="compatMode",r="position",i="fixed",s="relative",o="left",u="top",a="BackCompat",f="medium",l="borderLeftWidth",c="borderTopWidth",h="getBoundingClientRect",p="getComputedStyle",d=e.DOM,v=/^t(?:able|d|h)$/i,m;e.UA.ie&&(e.config.doc[n]!=="BackCompat"?m=t:m="body"),e.mix(d,{winHeight:function(e){var t=d._getWinSize(e).height;return t},winWidth:function(e){var t=d._getWinSize(e).width;return t},docHeight:function(e){var t=d._getDocSize(e).height;return Math.max(t,d._getWinSize(e).height)},docWidth:function(e){var t=d._getDocSize(e).width;return Math.max(t,d._getWinSize(e).width)},docScrollX:function(n,r){r=r||n?d._getDoc(n):e.config.doc;var i=r.defaultView,s=i?i.pageXOffset:0;return Math.max(r[t].scrollLeft,r.body.scrollLeft,s)},docScrollY:function(n,r){r=r||n?d._getDoc(n):e.config.doc;var i=r.defaultView,s=i?i.pageYOffset:0;return Math.max(r[t].scrollTop,r.body.scrollTop,s)},getXY:function(){return e.config.doc[t][h]?function(r){var i=null,s,o,u,f,l,c,p,v,g,y;if(r&&r.tagName){p=r.ownerDocument,u=p[n],u!==a?y=p[t]:y=p.body,y.contains?g=y.contains(r):g=e.DOM.contains(y,r);if(g){v=p.defaultView,v&&"pageXOffset"in v?(s=v.pageXOffset,o=v.pageYOffset):(s=m?p[m].scrollLeft:d.docScrollX(r,p),o=m?p[m].scrollTop:d.docScrollY(r,p)),e.UA.ie&&(!p.documentMode||p.documentMode<8||u===a)&&(l=y.clientLeft,c=y.clientTop),f=r[h](),i=[f.left,f.top];if(l||c)i[0]-=l,i[1]-=c;if(o||s)if(!e.UA.ios||e.UA.ios>=4.2)i[0]+=s,i[1]+=o}else i=d._getOffset(r)}return i}:function(t){var n=null,s,o,u,a,f;if(t)if(d.inDoc(t)){n=[t.offsetLeft,t.offsetTop],s=t.ownerDocument,o=t,u=e.UA.gecko||e.UA.webkit>519?!0:!1;while(o=o.offsetParent)n[0]+=o.offsetLeft,n[1]+=o.offsetTop,u&&(n=d._calcBorders(o,n));if(d.getStyle(t,r)!=i){o=t;while(o=o.parentNode){a=o.scrollTop,f=o.scrollLeft,e.UA.gecko&&d.getStyle(o,"overflow")!=="visible"&&(n=d._calcBorders(o,n));if(a||f)n[0]-=f,n[1]-=a}n[0]+=d.docScrollX(t,s),n[1]+=d.docScrollY(t,s)}else n[0]+=d.docScrollX(t,s),n[1]+=d.docScrollY(t,s)}else n=d._getOffset(t);return n}}(),getScrollbarWidth:e.cached(function(){var t=e.config.doc,n=t.createElement("div"),r=t.getElementsByTagName("body")[0],i=.1;return r&&(n.style.cssText="position:absolute;visibility:hidden;overflow:scroll;width:20px;",n.appendChild(t.createElement("p")).style.height="1px",r.insertBefore(n,r.firstChild),i=n.offsetWidth-n.clientWidth,r.removeChild(n)),i},null,.1),getX:function(e){return d.getXY(e)[0]},getY:function(e){return d.getXY(e)[1]},setXY:function(e,t,n){var i=d.setStyle,a,f,l,c;e&&t&&(a=d.getStyle(e,r),f=d._getOffset(e),a=="static"&&(a=s,i(e,r,a)),c=d.getXY(e),t[0]!==null&&i(e,o,t[0]-c[0]+f[0]+"px"),t[1]!==null&&i(e,u,t[1]-c[1]+f[1]+"px"),n||(l=d.getXY(e),(l[0]!==t[0]||l[1]!==t[1])&&d.setXY(e,t,!0)))},setX:function(e,t){return d.setXY(e,[t,null])},setY:function(e,t){return d.setXY(e,[null,t])},swapXY:function(e,t){var n=d.getXY(e);d.setXY(e,d.getXY(t)),d.setXY(t,n)},_calcBorders:function(t,n){var r=parseInt(d[p](t,c),10)||0,i=parseInt(d[p](t,l),10)||0;return e.UA.gecko&&v.test(t.tagName)&&(r=0,i=0),n[0]+=i,n[1]+=r,n},_getWinSize:function(r,i){i=i||r?d._getDoc(r):e.config.doc;var s=i.defaultView||i.parentWindow,o=i[n],u=s.innerHeight,a=s.innerWidth,f=i[t];return o&&!e.UA.opera&&(o!="CSS1Compat"&&(f=i.body),u=f.clientHeight,a=f.clientWidth),{height:u,width:a}},_getDocSize:function(r){var i=r?d._getDoc(r):e.config.doc,s=i[t];return i[n]!="CSS1Compat"&&(s=i.body),{height:s.scrollHeight,width:s.scrollWidth}}})})(e),function(e){var t="top",n="right",r="bottom",i="left",s=function(e,s){var o=Math.max(e[t],s[t]),u=Math.min(e[n],s[n]),a=Math.min(e[r],s[r]),f=Math.max(e[i],s[i]),l={};return l[t]=o,l[n]=u,l[r]=a,l[i]=f,l},o=e.DOM;e.mix(o,{region:function(e){var t=o.getXY(e),n=!1;return e&&t&&(n=o._getRegion(t[1],t[0]+e.offsetWidth,t[1]+e.offsetHeight,t[0])),n},intersect:function(u,a,f){var l=f||o.region(u),c={},h=a,p;if(h.tagName)c=o.region(h);else{if(!e.Lang.isObject(a))return!1;c=a}return p=s(c,l),{top:p[t],right:p[n],bottom:p[r],left:p[i],area:(p[r]-p[t])*(p[n]-p[i]),yoff:p[r]-p[t],xoff:p[n]-p[i],inRegion:o.inRegion(u,a,!1,f)}},inRegion:function(u,a,f,l){var c={},h=l||o.region(u),p=a,d;if(p.tagName)c=o.region(p);else{if(!e.Lang.isObject(a))return!1;c=a}return f?h[i]>=c[i]&&h[n]<=c[n]&&h[t]>=c[t]&&h[r]<=c[r]:(d=s(c,h),d[r]>=d[t]&&d[n]>=d[i]?!0:!1)},inViewportRegion:function(e,t,n){return o.inRegion(e,o.viewportRegion(e),t,n)},_getRegion:function(e,s,o,u){var a={};return a[t]=a[1]=e,a[i]=a[0]=u,a[r]=o,a[n]=s,a.width=a[n]-a[i],a.height=a[r]-a[t],a},viewportRegion:function(t){t=t||e.config.doc.documentElement;var n=!1,r,i;return t&&(r=o.docScrollX(t),i=o.docScrollY(t),n=o._getRegion(i,o.winWidth(t)+r,i+o.winHeight(t),r)),n}})}(e)},"3.16.0",{requires:["dom-base","dom-style"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("node-screen",function(e,t){e.each(["winWidth","winHeight","docWidth","docHeight","docScrollX","docScrollY"],function(t){e.Node.ATTRS[t]={getter:function(){var n=Array.prototype.slice.call(arguments);return n.unshift(e.Node.getDOMNode(this)),e.DOM[t].apply(this,n)}}}),e.Node.ATTRS.scrollLeft={getter:function(){var t=e.Node.getDOMNode(this);return"scrollLeft"in t?t.scrollLeft:e.DOM.docScrollX(t)},setter:function(t){var n=e.Node.getDOMNode(this);n&&("scrollLeft"in n?n.scrollLeft=t:(n.document||n.nodeType===9)&&e.DOM._getWin(n).scrollTo(t,e.DOM.docScrollY(n)))}},e.Node.ATTRS.scrollTop={getter:function(){var t=e.Node.getDOMNode(this);return"scrollTop"in t?t.scrollTop:e.DOM.docScrollY(t)},setter:function(t){var n=e.Node.getDOMNode(this);n&&("scrollTop"in n?n.scrollTop=t:(n.document||n.nodeType===9)&&e.DOM._getWin(n).scrollTo(e.DOM.docScrollX(n),t))}},e.Node.importMethod(e.DOM,["getXY","setXY","getX","setX","getY","setY","swapXY"]),e.Node.ATTRS.region={getter:function(){var t=this.getDOMNode(),n;return t&&!t.tagName&&t.nodeType===9&&(t=t.documentElement),e.DOM.isWindow(t)?n=e.DOM.viewportRegion(t):n=e.DOM.region(t),n}},e.Node.ATTRS.viewportRegion={getter:function(){return e.DOM.viewportRegion(e.Node.getDOMNode(this))}},e.Node.importMethod(e.DOM,"inViewportRegion"),e.Node.prototype.intersect=function(t,n){var r=e.Node.getDOMNode(this);return e.instanceOf(t,e.Node)&&(t=e.Node.getDOMNode(t)),e.DOM.intersect(r,t,n)},e.Node.prototype.inRegion=function(t,n,r){var i=e.Node.getDOMNode(this);return e.instanceOf(t,e.Node)&&(t=e.Node.getDOMNode(t)),e.DOM.inRegion(i,t,n,r)}},"3.16.0",{requires:["dom-screen","node-base"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("node-style",function(e,t){(function(e){e.mix(e.Node.prototype,{setStyle:function(t,n){return e.DOM.setStyle(this._node,t,n),this},setStyles:function(t){return e.DOM.setStyles(this._node,t),this},getStyle:function(t){return e.DOM.getStyle(this._node,t)},getComputedStyle:function(t){return e.DOM.getComputedStyle(this._node,t)}}),e.NodeList.importMethod(e.Node.prototype,["getStyle","getComputedStyle","setStyle","setStyles"])})(e);var n=e.Node;e.mix(n.prototype,{show:function(e){return e=arguments[arguments.length-1],this.toggleView(!0,e),this},_show:function(){this.removeAttribute("hidden"),this.setStyle("display","")},_isHidden:function(){return this.hasAttribute("hidden")||e.DOM.getComputedStyle(this._node,"display")==="none"},toggleView:function(e,t){return this._toggleView.apply(this,arguments),this},_toggleView:function(e,t){return t=arguments[arguments.length-1],typeof e!="boolean"&&(e=this._isHidden()?1:0),e?this._show():this._hide(),typeof t=="function"&&t.call(this),this},hide:function(e){return e=arguments[arguments.length-1],this.toggleView(!1,e),this},_hide:function(){this.setAttribute("hidden","hidden"),this.setStyle("display","none")}}),e.NodeList.importMethod(e.Node.prototype,["show","hide","toggleView"])},"3.16.0",{requires:["dom-style","node-base"]});
"undefined"!=typeof YAHOO&&YAHOO||(YAHOO={}),YAHOO.i13n=YAHOO.i13n||{},YAHOO.i13n.EventTypes=function(){function e(e,t,n){this.yqlid=e,this.eventName=t,this.spaceidPrefix=n}var t="richview",n="contentmodification";e.prototype={getYQLID:function(){return this.yqlid},getEventName:function(){return this.eventName}};var r={pageview:new e("pv","pageview",""),simple:new e("lv","event","P"),linkview:new e("lv","linkview","P"),richview:new e(t,t,"R"),contentmodification:new e(t,n,"R"),dwell:new e("lv","dwell","D")};return{getEventByName:function(e){return r[e]}}}(),YAHOO.i13n.Rapid=function(e){function t(){}function n(e){this.map={},this.count=0,e&&this.absorb(e)}function r(){this.map={},this.count=0}function i(e,t){if(!e)return null;null===t&&(t=!1);var n=new r,i=U.getAttribute(e,U.data_action_outcome);i&&n.set("outcm",i);var s=U.getAttribute(e,"data-ylk");if(null===s||0===s.length)return n;for(var o=s.split(U.ylk_pair_delim),u=0,a=o.length;a>u;u++){var f=o[u].split(U.ylk_kv_delim);if(2===f.length){var l=f[0],c=f[1];null!==l&&""!==l&&null!==c&&(c.length>U.MAX_VALUE_LENGTH&&(c=c.substring(0,U.MAX_VALUE_LENGTH)),l.length<=8&&c.length<=U.MAX_VALUE_LENGTH&&("_p"!==l||t)&&n.set(l,c))}}return n}function s(e,t,n){return t>e?t:e>n?n:e}function o(t,n){R.set("A_sid",YAHOO.i13n.A_SID||U.rand()),R.set("_w",U.rmProto(n).substring(0,U.MAX_VALUE_LENGTH)),t?R.absorb(t):e.keys&&R.absorb(e.keys)}function u(e){var t=(YAHOO.i13n,YAHOO.i13n.TEST_ID||e.test_id),n=e.location||document.location.href;o(e.keys,n),t&&(t=U.norm(""+t));var r=300,i=700,u=1e4,a=e.override||{},f={override:a,version:"3.39.1",keys:R,referrer:e.referrer,getReferrer:function(){return U.norm(U.clref("undefined"!=typeof this.referrer?this.referrer:document.referrer))},spaceid:U.norm(a.spaceid||YAHOO.i13n.SPACEID||e.spaceid),yrid:U.norm(e.yrid||""),oo:e.oo?"1":"0",nol:e.nol?"1":"0",yql_enabled:e.yql_enabled!==!1,fing:1==e.use_fing,USE_RAPID:e.use_rapid!==!1,linktrack_attribut:e.lt_attr||"text",tracked_mods:e.tracked_mods||[],tracked_mods_viewability:e.tracked_mods_viewability||[],viewability:e.viewability||!1,viewability_time:e.viewability_time||300,viewability_px:e.viewability_px||50,lt_attr:e.lt_attr||"text",client_only:e.client_only,text_link_len:e.text_link_len||-1,test_id:t,yql_host:e.yql_host||"geo.query.yahoo.com",yql_path:e.yql_path||"/v1/public/yql",click_timeout:e.click_timeout||u,compr_timeout:e.compr_timeout||i,compr_on:e.compr_on!==!1,compr_type:e.compr_type||"deflate",webworker_file:YAHOO.i13n.WEBWORKER_FILE||e.webworker_file||"rapidworker-1.2.js",nofollow_classname:e.nofollow_class||"rapidnofollow",no_click_listen:e.rapid_noclick_resp||"rapid-noclick-resp",nonanchor_track_class:e.nonanchor_track_class||"rapid-nonanchor-lt",anc_pos_attr:"data-rapid_p",anc_v9y_attr:"data-v9y",deb:e.debug===!0,ldbg:e.ldbg>0?!0:n.indexOf("yhldebug=1")>0,addmod_timeout:e.addmodules_timeout||300,ult_token_capture:"boolean"==typeof e.ult_token_capture?e.ult_token_capture:!1,track_type:e.track_type||"data-tracktype",dwell_on:e.dwell_on===!0,prerender:e.prerender===!0,query_parameters:e.query_parameters===!0,async_all_clicks:e.async_all_clicks===!0,click_postmsg:e.click_postmsg||{},apv:e.apv!==!1,apv_time:e.apv_time||500,apv_px:e.apv_px||500,apv_always_send:e.apv_always_send===!0,ex:e.ex===!0,persist_asid:e.persist_asid===!0,track_right_click:e.track_right_click===!0,gen_bcookie:e.gen_bcookie===!0,skip_attr:e.skip_attr||"data-rapid-skip",parse_dom:e.parse_dom===!0,pageview_on_init:e.pageview_on_init!==!1,perf_navigationtime:e.perf_navigationtime||0,perf_commontime:e.perf_commontime||null,perf_usertime:e.perf_usertime||null,perf_resourcetime:e.perf_resourcetime||0,sample:e.sample||{},loc:n,fpc:e.fpc===!0,extendbcookie:e.extendbcookie===!0},c=1*f.compr_timeout;return U.isNum(c)?f.compr_timeout=s(c,r,i):f.compr_timeout=i,f.ldbg&&f.click_timeout!=u&&l("Click timeout set to "+f.click_timeout+"ms (default 10000ms)"),e.apv_callback&&"function"==typeof e.apv_callback?f.apv_callback=e.apv_callback:f.apv_callback=null,f}function a(){R.set("A_sid",U.rand())}function f(){return"Rapid-"+X.version+"("+(new Date).getTime()+"):"}function l(e){X.ldbg&&console.warn("RAPID WARNING: "+e)}function c(e){X.ldbg&&console.error("RAPID ERROR: "+e)}function h(e){X.ldbg&&console.log(f()+e)}function p(){var e=document.cookie;if(this.cookieMap={},/[^=]+=[^=;]?(?:; [^=]+=[^=]?)?/.test(e))for(var t=e.split(/;\s/g),n=null,r=null,i=null,s=0,o=t.length;o>s;s++){if(i=t[s].match(/([^=]+)=/i),i instanceof Array)try{n=U.dec(i[1]),r=U.dec(t[s].substring(i[1].length+1))}catch(u){c(u)}else n=U.dec(t[s]),r=n;"B"!==n&&"BX"!==n&&"TT"!==n&&"D"!==n&&"_ga"!==n&&"yx"!==n&&"rxx"!==n||(this.cookieMap[n]=r)}U.clearCookie("rx","/",U.isIE?document.domain:"")}function d(){if(X.ult_token_capture&&YAHOO.i13n.__handled_ult_tokens__!==!0){YAHOO.i13n.__handled_ult_tokens__=!0;var e=X.loc;if(e.match(/;_yl[a-z]{1}=/))X.ldbg&&h("Found ULT Token on URL."),V.sendGeoT(e);else{var t=new p,n=t.getCookieByName("D");n&&(U.clearCookie("D","/",".yahoo.com"),V.sendGeoT(n))}}}function v(){function e(){t=(new Date).valueOf().toString(),n=t.length}var t=null,n=null;return e(),{ts:t.substr(0,n-3),ms:t.substr(n-3)}}function m(e,t,n,r){var i=new Date,s="";i.setTime(i.getTime()+1e3*n),s="; expires="+i.toGMTString();var o="";r&&(o=";domain="+r);var u=e+"="+t+s+o+"; path=/";document.cookie=u}function g(){function e(e,t){X.ldbg&&h(e);var n=new Image,r=null;n.onload=n.onabort=n.onerror=function(){t&&"function"==typeof t&&(clearTimeout(r),t.call(null))},n.src=e,t&&"function"==typeof t&&(r=setTimeout(function(){t.call(null)},X.click_timeout)),setTimeout(function(){n=null},1e7)}function t(){return"rapid_if_"+U.rand()}function r(e){var t="display:none;";!U.isIE||6!==U.ieV&&7!==U.ieV&&8!==U.ieV?U.sa(e,"style",t):e.style.setAttribute("cssText",t,0)}function i(e){var t=null;if(U.isIE&&U.ieV<=8){var n="";U.isSecure()&&6==U.ieV&&(n='src="https://geo.yahoo.com/b.html"'),t=document.createElement("<iframe "+n+' name="'+e+'"></iframe>')}else t=document.createElement
("iframe");return t.name=e,t}function s(){setTimeout(function(){var e=i("");U.addEvent(e,"load",function(){U.rmBodyEl(e)}),U.appBodyEl(e)},1)}function o(e,n){var o=null,a=U.make("form"),f=U.make("input"),l=t(),c=t(),p="application/x-www-form-urlencoded;charset=UTF-8";o=i(l),r(o),r(a),a.id=c,a.method="POST",a.action=u(n),a.target=l,U.isIE&&U.ieV<=7?a.setAttribute("enctype",p):(a.setAttribute("enctype",p),a.setAttribute("encoding",p)),f.name="q",f.value=e,U.isIE&&U.ieV>=10&&(f.type="submit"),a.appendChild(f);var d="load",v=function(){var e="";if(X.ldbg&&(!U.isIE||U.ieV>=9)){var t=o.contentDocument||o.contentWindow.document;e=t.body.innerHTML}U.rmEvent(o,d,v),setTimeout(function(){U.rmBodyEl(o),U.rmBodyEl(a)},0),X.ldbg&&h("iframe resp: "+e),U.isIE&&U.ieV<=7&&s()};U.addEvent(o,d,v),U.appBodyEl(o),U.appBodyEl(a),a.submit()}function u(e){var t=X.deb,n=U.rand(),r=["http:"===window.location.protocol?"http://":"https://",X.yql_host,X.yql_path,"?yhlVer=2&yhlClient=rapid&yhlS=",X.spaceid,t===!0?"&yhlEnv=staging":"",t===!0||X.ldbg?"&debug=true&diagnostics=true":"",U.isIE&&U.ieV?"&yhlUA=ie"+U.ieV:"",U.isIE&&8==U.ieV?"&format=json":"","&yhlCT=2","&yhlBTMS=",(new Date).valueOf(),"&yhlClientVer=",X.version,"&yhlRnd=",n,"&yhlCompressed=",e||0,X.gen_bcookie?"&yhlBcookie=1":""].join("");return X.ldbg&&h(r),r}function a(t){var r=new n(t);e(C("p",r,1197799914))}function f(e,t){var n=u(t);try{var r=U.getXHR();r.open("POST",n,!0),r.withCredentials=!0,r.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),X.ldbg&&(r.onreadystatechange=function(){4===r.readyState&&h(r.status+":xhr response: "+r.responseText)}),r.send(e)}catch(i){a({_err_nm:"sendToYQL Failed",_err_msg:"sendToYQL Failed",_err_rs:String(i),_err_st:i.stack,urlUsed:n})}}function p(e,t,n){var r={};return U.isObj(e)?(U.aug(r,e,n),r):r}function d(e,t,n){n=n||{};var r={m:U.norm(e.moduleName),l:[]};e.moduleYLK&&(r.ylk=e.moduleYLK.getAll());for(var i=r.ylk&&r.ylk.sec?r.ylk.sec:"",s=e.links,s=e.links,o=function(e,n){var s="_p"===e;return t&&s?!0:"sec"==e&&n!=r.m&&n!=i?!0:"sec"!==e&&!s},u=0,a=s.length;a>u;u++)s[u]&&(!X.viewability||s[u].viewable?r.l.push(p(s[u].data,t,o)):X.ldbg&&h("Skipping not viewable link: "+s[u].data.slk));return r}function m(e,t,n){var r=[],i=null;for(var s in e)if(U.hasOwn(e,s)&&(i=e[s])){var o=d(i,t,n);o.l.length>0?r.push(o):X.ldbg&&h('Not capturing 0 links mod: "'+i.moduleName+'"')}return r}function g(e,t){return e?"pv":t&&t.event?t.event.type.getYQLID():"lv"}function y(e,t,n,r,i){var s;return s=K?nt:v(),[{t:g(t,i),s:X.spaceid,pp:b(t,r).getAll(),_ts:s.ts,_ms:s.ms,lv:m(e,n,i)}]}function b(e,t){var r=n.makeFromPP(X.keys);return r.absorb(t),e&&r.set("A_",1),r}function w(e,t,n){var r="select * from x where a = '"+e+"'";return(t?"q=":"")+(n?U.enc(r):r)}function E(e){var t={bp:O().getAll(),r:e.call(0),yrid:X.yrid,optout:X.oo,nol:X.nol};return U.toJSON(t)}function S(e,t,n){var r={};n.event&&U.aug(r,n.event.data),n.pp&&U.aug(r,n.pp);var i=E(function(){return y([e],t,!0,r,n)});N(i,t)}function x(e,t,n,r){var i=E(function(){return y(e,t,!0,n,r)});N(i)}function T(e){return e.identifier}function N(e){function t(e,t){0===t&&(e=e.replace(/'/g,"\\'")),r&&h("body: "+e),U.hasCORS()?(i=w(e,!0,!0),f(i,t)):(i=w(e,0,0),o(i,t))}function n(){a||(a=!0,t(e,0),r&&h("sent in failSend"))}var r=X.ldbg,i="",s=W[X.compr_type];if(X.compr_on&&U.hasWorkers()&&s>1&&e.length>2048){r&&h("Looking for worker:"+X.webworker_file+", compr timeout:"+X.compr_timeout);try{var u=new Worker(X.webworker_file),a=!1,c=null,p=0;u.onerror=function(e){clearTimeout(c),n(),l(e.message),u.terminate()},u.onmessage=function(i){clearTimeout(c);var o=U.tms();"Decompress fail"!==i.data&&"Compress fail"!==i.data&&0!=i.data.indexOf("error:")||(r&&h(i.data),n()),a||(a=!0,t(i.data,s)),r&&h("Ratio ("+i.data.length+"/"+e.length+"): "+(100*i.data.length/e.length).toFixed(2)+"% -> C_T: "+(o-p)+" ms ("+o+"-"+p+")"),u.terminate()},r&&h("posting to worker: "+e),p=U.tms(),u.postMessage({type:s,json:e}),c=setTimeout(function(){n(),u.terminate()},X.compr_timeout)}catch(d){r&&h("compression worker exception "+d),t(e,0)}}else t(e,0)}function C(e,t,n){return("http:"===window.location.protocol?"http://":"https://")+A+"/"+e+["?s="+(n?n:X.spaceid),"t="+U.rand()+","+Math.random(),"_I="+X.yrid,"_AO="+X.oo,"_NOL="+X.nol,"_R="+U.enc(X.getReferrer()),("c"===e?"_K=":"_P=")+k(t)].join("&")}function k(e){var t=new n(O(!1).getAll());t.absorb(X.keys.getAll()),e&&(e instanceof n?t.absorb(e.getAll()):c("Internal error in buildGeoPP: not PP type"));var r;return r="dwell,start"===t.get("etag")?nt:"dwell,stop"===t.get("etag")?rt:v(),t.set("_ts",r.ts),t.set("_ms",r.ms),X.version+"%05"+t.ser()}function L(e){var t=new n(e.pp),r=[C("c",t)+"&_C="+U.ser(e.data)];return r.join("&")}var A=YAHOO.i13n.beacon_server||"geo.yahoo.com",O=function(e){var t=new n;t.set("_pl",1),t.set("A_v",X.version);var r=X.getReferrer();if(r&&e!==!1&&t.set("_R",r.substring(0,U.MAX_VALUE_LENGTH)),X.test_id&&t.set("test",X.test_id),X.ex&&t.set("_ex",1),t.get("_bt")||t.set("_bt","rapid"),X.query_parameters){var i=/^(test|outcm|etrg|usergenf|etag|sec|slk|tar|tar_uri|yhldebug|tsrc|action)$|^(A_|_)/,s=document.location.search;if(s){s=s.substring(1),s=s.split("&");for(var o in s)if(s.hasOwnProperty(o)){var u=s[o].split("=");if(u.length>=2){var a=decodeURIComponent(u[0]),f=decodeURIComponent(u[1]),l=!i.test(a);h("Queryparams decoded: "+a+" : "+f),h("Blacklist filter: "+l),l&&t.set(a,f)}}}}var c=window.location.protocol||"";c=c.replace(/:$/,""),t.set("A_pr",c);var p=(new Date).getTimezoneOffset();return p=p?-1*p/60:0,t.set("A_tzoff",p),t},M=function(){var e=null,t=[],n=0,r=X.addmod_timeout;return function(i,s,o,u){clearTimeout(e);var a=+(new Date)-n;if(t=U.uniqConcat(t,i,T),a>r)n=+(new Date),x(t,s,o,u),t=[];else{var f=r-a;e=setTimeout(function(){X.ldbg&&h("queueing send in addMods"),x(t,s,o,u),t=[]},f)}}}();return{sendGeoT:function(t){var n=["http:"===window.location.protocol?"http://":"https://",A,"/t?",t].join("");e(n)},sendGeoPV:function(
){e(C("b"))},sendRapidNoDelay:function(t,r,i,s,o){if(r&&K&&K.start_dwell()&&(i.etag="dwell,start",i.usergenf=1,i.A_prets=rt?rt.ts:null,i.A_prems=rt?rt.ms:null),!X.yql_enabled||o){var u=null;i&&(u=new n(i)),e(C(r?"b":"p",u))}else x(t,r,i,s)},sendRapid:function(e,t,n,r){t&&K&&K.start_dwell()&&(n.etag="dwell,start",n.usergenf=1,n.A_prets=rt?rt.ts:null,n.A_prems=rt?rt.ms:null),M(e,t,n,r)},sendRefreshedContent:S,sendULTEvent:function(t,r){var i={};t&&t.data&&(i=t.data);var s=C("p",new n(i),r||0);t.type&&(s+="&_V="+t.type.spaceidPrefix),e(s)},sendEvents:function(e,t){X.USE_RAPID&&this.sendULTEvent(e)},sendClick:function(t,n){var r=null,i="",s=!1;return X.USE_RAPID&&(i=L(t)),X.async_all_clicks||!t.synch?void (i&&e(i,n)):(U.prevDef(t.event),r=function(){if(!s){if(s=!0,n)return void n.call();var e=t.targetElement.href;if(X.click_postmsg.origin){var r=X.click_postmsg.window||top,i=X.click_postmsg.payload||{};i.href=e,r.postMessage(U.toJSON(i),X.click_postmsg.origin)}else t.hasTargetTop?top.document.location=e:document.location=e}},void (X.USE_RAPID&&e(i,r)))}}}function y(e,t,n,r,s,o,u){var a="",f=null,l=u?U.isAboveFold(r):!0,c={viewable:l,data:{sec:t,_p:n}};return u&&U.aug(c.data,{A_lv:1}),o?(c.data.slk=s||"section",f=i(r)):(r.setAttribute(X.anc_pos_attr,n),u&&r.setAttribute(X.anc_v9y_attr,l?"1":"0"),a=U.getLT(r,e),a&&""!==a?f=i(r):a="_ELINK_",c.data.slk=s?s:a),null!==f&&U.aug(c.data,f.getAll()),c}function b(){var e={};return{addModule:function(t,n){e[U.norm(t)]=n},addModules:function(e,t){var n=U.isArr(e),r=[];n||U.isStr(e)&&(e=new Array(e),n=!0);for(var i in e)if(U.hasOwn(e,i)){var s=n?e[i]:i,o=U.trim(e[i]);if(this.exists(s))c('addModules() called with prev processed id:"'+s+'"');else{var u=A(o,s,t);u&&(this.addModule(s,u),r.push(u))}}return r},getModules:function(){return e},getModulesWithViewability:function(){var t={};for(var n in e){var r=e[n];r.useViewability&&(t[n]=r)}return t},reevaluateModuleViewability:function(){var e=this.getModulesWithViewability();for(var t in e){var n=e[t];n.reevaluateViewableLinks()}},refreshModule:function(t,n,r,i){var s=e[U.norm(t)];s?s.refreshModule(t,n,r,i):c("refreshModule called on unknown section: "+s)},removeModule:function(t){var n=e[U.norm(t)];n&&(n.removeHandlers(),delete e[t])},destroy:function(){for(var t in e)U.hasOwn(e,t)&&this.removeModule(t);e={}},exists:function(t){return e[U.norm(t)]}}}function w(e,t){return U.hasClass(e,"rapid_track_href")?"href":U.hasClass(e,"rapid_track_text")?"text":U.hasClass(e,"rapid_track_title")?"title":U.hasClass(e,"rapid_track_id")?"id":t}function E(e){return"input"===e.nodeName.toLowerCase()&&"submit"===U.getAttribute(e,"type")}function S(e,t){var n=N(e,t);Q=n,n&&(e.ctrlKey||e.metaKey||K&&K.stop_dwell()&&(n.pp={etag:"dwell,stop",usergenf:1,A_prets:nt?nt.ts:null,A_prems:nt?nt.ms:null},K.destroy()),V.sendClick(n))}function x(e,t,n){var r=U.getAttribute;return t.target&&"_blank"===t.target.toLowerCase()||2===e.which||4===e.button||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||"on"===r(t,"data-nofollow")||r(t,"href")&&"javascript:"===r(t,"href").substr(0,11).toLowerCase()||U.hasClass(t,X.nofollow_classname)||U.hasClass(n,X.nofollow_classname)}function T(e,t,n,r){n=n||{};var i=null;return e?(i=YAHOO.i13n.EventTypes.getEventByName(e),n._E=i.getEventName(),t=n._E):n._E=t||"_",r&&(n.outcm=r),{type:i,name:t,data:n,outcome:r}}function N(e,t){e=e||event;for(var n=U.getTarget(e),r="button",s="input",o="",u=!1,a=null;n&&(o=n.nodeName.toLowerCase())&&"a"!==o&&o!==r&&!E(n)&&!U.hasClass(n,X.nonanchor_track_class);)n=n.parentNode;if(!n||U.hasClass(n,X.no_click_listen))return 0;if(U.hasClass(n,X.nonanchor_track_class)){a={pos:0,sec:t.moduleName,slk:"_"};var f=i(n,1);f&&U.aug(a,f.getAll())}else{var l=U.getAttribute(n,X.anc_pos_attr);if(a=t.getLinkAtPos(l),!a)return 0;a=a.data,o===s||o===r||x(e,n,t.moduleElement)||(u=!0)}if(!a.tar){var c=U.getAttribute(n,"href");c&&(a.tar=U.extDomain(c)),c&&a.tar||(a.tar=U.extDomain(X.loc))}a.tar_uri||(n.pathname?a.tar_uri=n.pathname.substring(0,U.MAX_VALUE_LENGTH):a.tar_uri="");var h=t.moduleYLK;if(h){var p=h.getAll();U.aug(a,p,function(e){return!(e in a)})}return a.A_xy=U.xy(e),a.A_sr=U.sr(),"contextmenu"==e.type&&(a.A_cl=3,u=!1),{data:a,event:e,moduleElement:t.moduleElement,targetElement:n,synch:u,hasTargetTop:n&&n.target&&"_top"===n.target.toLowerCase()}}function C(e,t,n,r,i){var s={};return U.aug(s,r),s.sec=e,s.slk=t,s._p=n,{data:s,outcome:i,event:null,moduleElement:null,targetElement:null,synch:!1,hasTargetTop:!1}}function k(e,t,n){t||(t=document);for(var r=e.split(","),i=[],s=0,o=r.length;o>s;s++)for(var u=t.getElementsByTagName(r[s]),a=0,f=u.length;f>a;a++){var l=u[a];n&&!n.call(0,l)||i.push(l)}var c=i[0];return c?(c.sourceIndex?i.sort(function(e,t){return e.sourceIndex-t.sourceIndex}):c.compareDocumentPosition&&i.sort(function(e,t){return 3-(6&e.compareDocumentPosition(t))}),i):[]}function L(e,t,n,r){t||(t=document);var i=e.split(",");n=n||[];var s=t.childNodes;if("true"!==U.getAttribute(t,X.skip_attr))for(var o=0,u=s.length;u>o;o++){var a=s[o];U.isTagOfInterest(a,i)&&(r&&!r.call(0,a)||n.push(a)),"true"!==U.getAttribute(a,X.skip_attr)?L(e,a,n,r):"true"===U.getAttribute(a,X.skip_attr)&&n.push(a)}var f=n[0];return f?(f.sourceIndex?n.sort(function(e,t){return e.sourceIndex-t.sourceIndex}):f.compareDocumentPosition&&n.sort(function(e,t){return 3-(6&e.compareDocumentPosition(t))}),n):[]}function A(e,t,n){function r(t,r){var s=[];r=r||1;for(var o=0,a=t.length;a>o;o++)if("div"===t[o].tagName.toLowerCase()){var l=t[o],h=i(l),p=y(d,f.map.sec||e,1,l,h.map.slk||f.map.slk,!0,n);c[0]=p,s.push(p)}else{var v=t[o],p=y(d,f.map.sec||e,r,v,f.map.slk,0,n);c[r-1]=p,s.push(p),r++}if("true"===U.getAttribute(u,X.skip_attr)){var p=y(d,f.map.sec||e,1,l,f.map.slk,!0,n);c[0]=p,s.push(p)}return s}function s(t){for(var n=[],r=0,i=t.length;i>r;r++){var s=t[r],o=U.getAttribute(s,X.anc_pos_attr),u=y(d,f.map.sec||e,o,s,f.map.slk,0,!0);n.push(u)}return n}function o(e){return!U.getAttribute(e,X.anc_pos_attr)}var u=document.getElementById
(t),a="a,button,input";if(!u)return l("Specified module not in DOM: "+t),null;var f=i(u),c=[],p=X.parse_dom?L(a,u):k(a,u),d=w(u,X.lt_attr),v=p.length,m=U.getAttribute(u,X.track_type);r(p);var g={useViewability:n,moduleYLK:f,links:c,moduleName:e,trackType:m,moduleElement:u,refreshModule:function(e,t,i,s){s.isRefreshed=!0;var u=X.parse_dom?L(a,U.$(e),null,o):k(a,U.$(e),o);if(t===!0||u.length>0){var f=r(u,v+1);v+=u.length;var l=u.length;if(n){l=0;for(var c=0,p=f.length;p>c;c++)f[c].viewable&&l++}if((t===!0||l>0)&&(X.USE_RAPID||s.event)){var d={};U.aug(d,this),i?d.links=f:d.links=[],(t===!0||i)&&V.sendRefreshedContent(d,t,s)}}else U.ldbg&&h("refreshModule("+e+") - no new links.");t===!0&&X.apv&&$&&$.reInit()},reevaluateViewableLinks:function(){var t=c.length,n=k("a",this.moduleElement,function(t){return function(n){if(!U.getAttribute(n,X.anc_pos_attr)){t++,n.setAttribute(X.anc_pos_attr,t);var r=y(d,f.map.sec||e,t,n,f.map.slk,0,!1);c[t-1]=r}var i=U.getAttribute(n,X.anc_v9y_attr);return"1"!==i&&U.isAboveFold(n)?(n.setAttribute(X.anc_v9y_attr,"1"),!0):!1}}(t));if(0!==n.length&&X.USE_RAPID){var r=s(n),i={};U.aug(i,this),i.links=r,V.sendRefreshedContent(i,!1,{})}},removeHandlers:function(){U.rmEvent(u,"click",b),X.track_right_click&&U.rmEvent(u,"contextmenu",b)},getLinkAtPos:function(e){return e>c.length?null:c[e-1]},identifier:t},b=function(e){S(e,g)};return U.addEvent(u,"click",b),X.track_right_click&&U.addEvent(u,"contextmenu",b),g}function O(e,t,n){X.ldbg&&h("beaconPageview called, pp="+U.fData(e)),t&&!X.persist_asid&&a(),(X.USE_RAPID||X.apv_always_send&&U.hasOwn(e,"A_apv"))&&V.sendRapidNoDelay([],!0,e,null,n),X.apv&&null!=$&&$.reInit()}function M(e,t,n,r){X.ldbg&&h('beaconEvent: event="'+e+'" data='+U.fData(t)+" outcome="+n);var i=T(0,e,t,n);V.sendEvents(i,r)}function _(){var e=null,t=(new Date).getTime(),n=t,r=U.getScrollY(),i=-1,s=function(){var e=U.getScrollY(),t=-1===i?e-r:e-i;Math.abs(t)>X.viewability_px&&(z.reevaluateModuleViewability(),i=e,n=(new Date).getTime())},o=function(){null!=e&&clearTimeout(e);var i=(new Date).getTime();i-t<X.viewability_time&&(r=U.getScrollY(),n=i),e=setTimeout(function(){s()},X.viewability_time)};U.addEvent(window,"scroll",o),this.reInit=function(){r=U.getScrollY(),i=-1,t=n=(new Date).getTime()},this.destroy=function(){U.rmEvent(window,"scroll",o)}}function D(){var e=null,t=lastApvTime=(new Date).getTime(),n=U.getScrollY(),r=-1,i=function(){var e=U.getScrollY(),t=-1===r?e-n:e-r,i=t>0?0:1;if(Math.abs(t)>X.apv_px){var s={A_apv:1,A_apx:e,A_asd:i};O(s,!1,!0),r=e,lastApvTime=(new Date).getTime(),X.apv_callback&&X.apv_callback.call(this,{pixel_pos:e,scroll_dir:i})}},s=function(){null!=e&&clearTimeout(e);var r=(new Date).getTime();r-t<X.apv_time&&(n=U.getScrollY(),lastApvTime=r),e=setTimeout(function(){i()},X.apv_time)};U.addEvent(window,"scroll",s),this.reInit=function(){n=U.getScrollY(),r=-1,t=lastApvTime=(new Date).getTime()},this.destroy=function(){U.rmEvent(window,"scroll",s)}}function P(){var e={focus:{state:"start",etrg:"show",etag:"dwell,start",jse:"window.focus"},pageshow:{state:"start",etrg:"show",etag:"dwell,start",jse:"window.pageshow"},"visibilitychange-visible":{state:"start",etrg:"show",etag:"dwell,start",jse:"document.visibilitychange"},blur:{state:"stop",etrg:"hide",etag:"dwell,stop",jse:"window.blur"},pagehide:{state:"stop",etrg:"hide",etag:"dwell,stop",jse:"window.pagehide"},"visibilitychange-hidden":{state:"stop",etrg:"hide",etag:"dwell,stop",jse:"document.visibilitychange"},beforeunload:{state:"stop",etrg:"close",etag:"dwell,stop",jse:"window.beforeunload"}},t="start";nt=v();var n,r;"undefined"!=typeof document.hidden?(n="hidden",r="visibilitychange"):"undefined"!=typeof document.mozHidden?(n="mozHidden",r="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(n="msHidden",r="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(n="webkitHidden",r="webkitvisibilitychange");var i=function(i){var s="",o=i.type;if(i.type==r&&(o=document[n]?"visibilitychange-hidden":"visibilitychange-visible"),U.hasOwn(e,o)&&(s=e[o].state),0!=s.length){if(t==s)return void h("dwell: -- state already "+t+" (event="+o+")");t=s;var u=e[o];h("dwell: change state to "+t+" (event="+o+")");var a={etrg:u.etrg,outcm:"window",usergenf:1,etag:u.etag,A_jse:u.jse};"start"===t&&(nt=v(),null!=rt&&(a.A_prets=rt.ts,a.A_prems=rt.ms)),"stop"===t&&(rt=v(),null!=nt&&(a.A_prets=nt.ts,a.A_prems=nt.ms)),M("dwell",a,"")}};for(var s in e)e.hasOwnProperty(s)&&U.addEvent(window,s,i);U.addEvent(window,r,i),this.set_state=function(e){t=e},this.start_dwell=function(){return"start"===t?(h("dwell: -- state already "+t),!1):(t="start",nt=v(),!0)},this.stop_dwell=function(){return"stop"===t?(h("dwell: -- state already "+t),!1):(t="stop",rt=v(),!0)},this.destroy=function(){for(var t in e)e.hasOwnProperty(t)&&U.rmEvent(window,t,i);U.rmEvent(window,r,i)}}function H(e,t){var r=10;if(window.performance&&window.performance.timing){var i=e?e.perf_navigationtime||0:X.perf_navigationtime||0,s=e?e.perf_resourcetime||0:X.perf_resourcetime||0,o=e?e.perf_commontime||null:X.perf_commontime||null,u=e?e.perf_usertime||null:X.perf_usertime||null;if(!(1>i&&1>s)||o||u){var a=U.hasOwn(X.sample,"perf_navigationtime")?X.sample.perf_navigationtime:100,f=U.hasOwn(X.sample,"perf_resourcetime")?X.sample.perf_resourcetime:100,l=U.samplingSuccess(a),c=U.samplingSuccess(f);if(l||c){if(0===window.performance.timing.loadEventStart){if(tt+=r,tt>200)return;return void setTimeout(function(){H(e,t)},r)}var h=B(i,s,o,u,l,c),p=new n(h);"object"==typeof t&&p.absorb(t);var d=T(0,"pageperf",p.getAll(),"");V.sendEvents(d)}}}}function B(e,t,n,r,i,s){var o={},u=window.performance.timing;if(i&&e>0&&(j(u.responseStart,u.connectEnd,o,"A_pfb"),j(u.responseEnd,u.responseStart,o,"A_pbp"),j(u.responseEnd,u.requestStart,o,"A_psr"),j(u.loadEventStart,u.navigationStart,o,"A_pol"),j(u.domInteractive,u.navigationStart,o,"A_pdi")),i&&e>1&&(j(u.redirectEnd,u.redirectStart,o,"A_prd"),j(u.domainLookupEnd,u.domainLookupStart,o,"A_pdl"),j(u.connectEnd
,u.secureConnectionStart,o,"A_psh"),j(u.connectEnd,u.connectStart,o,"A_psc"),j(u.loadEventStart,u.responseEnd,o,"A_pfe")),s&&t>0&&"undefined"!=typeof window.performance.getEntries){var a=[],f=window.performance.getEntries();f.sort(function(e,t){return e.duration>t.duration?-1:e.duration<t.duration?1:0});for(var l=f.slice(0,10),c=l.length,h=0;c>h;h++){var p={},d=l[h].name.replace(/\?.+$/,"");d=d.replace(/^.+\//,""),p.name=d,p.dur=Math.floor(l[h].duration),p.st=Math.floor(l[h].startTime),a.push(p)}o.A_res=U.sfy(a)}if(n&&(U.hasOwn(n,"initialPageLoad")&&(o.A_cmi=U.sfy(n.initialPageLoad)),U.hasOwn(n,"afterPageLoad")&&(o.A_cma=U.sfy(n.afterPageLoad))),r)for(var v=["utm"],h=0;h<v.length;h++)U.hasOwn(r,v[h])&&(o.A_utm=U.sfy(r[v[h]]));return o.etrg="backgroundPost",o.outcm="performance",o.usergenf=0,o.etag="performance",o}function j(e,t,n,r){if(e&&t){var i=e-t;n[r]=i}}function F(){if("prerender"==document.visibilityState){var e={etrg:"prerender",outcm:"page",usergenf:0,etag:"prerender"},t=T(0,"prerender",e,"");V.sendEvents(t)}}function I(){X.dwell_on&&(K=new P),d(),X.ldbg&&h("tracked_mods: "+U.fData(X.tracked_mods));var e=z.addModules(X.tracked_mods,!1),t=z.addModules(X.tracked_mods_viewability,X.viewability);X.USE_RAPID&&X.pageview_on_init&&V.sendRapidNoDelay(e.concat(t),1==X.client_only),X.prerender&&F(),U.executeOnLoad(function(){J=new _,X.apv&&($=new D),H(),_initTimeStamp=null,X.extendbcookie&&G.extendBCookie()})}function q(e){var t=navigator.userAgent,n=Object.prototype,r=t.match(/MSIE\s[^;]*/)||t.match(/Trident\/[^;]*/)?1:0,i=/KHTML/.test(t)?1:0,s=null!==t.match(/(iPhone|iPad|iPod)/gi),o=(t.indexOf("Android")>-1,s&&null!==t.match(/AppleWebKit/)),u=null!==t.match(/AppleWebKit/)&&null===t.match(/Chrome/),a=new RegExp(/\ufeff|\uffef|[\u0000-\u001f]|[\ue000-\uf8ff]/g),f=new RegExp(/[\u007f-\u00a0]|\s{2,}/g),l="http://",h="https://",d="class",v=" ",m=-1,g=300,y=["A_res","A_cmi","A_cma","A_utm"],b=-1,w="https:"===window.location.protocol;return r&&(document.documentMode?b=document.documentMode:(b=5,document.compatMode&&"CSS1Compat"==document.compatMode&&(b=7))),{$:function(e){return document.getElementById(e)},ca:"%01",cb:"%02",cc:"%03",cd:"%04",ce:"%05",cf:"%06",cg:"%07",ch:"%08",ylk_kv_delim:e.ylk_kv_delim||":",ylk_pair_delim:e.ylk_pair_delim||";",DATA_ACTION:"data-action",data_action_outcome:"data-action-outcome",isIE:r,isIOSSafari:o,isSafari:u,isWebkit:i,ieV:b,MAX_VALUE_LENGTH:e.max_value_length||g,value_len_whitelist:y,hasOwn:function(e,t){return n.hasOwnProperty.call(e,t)},enc:encodeURIComponent,dec:decodeURIComponent,getQueryStringValue:function(e,t){return decodeURIComponent(e.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(t).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))},curProto:function(){return w?h:l},isSecure:function(){return w},isScrollHorizontalVisible:function(){return document.documentElement.scrollWidth>document.documentElement.clientWidth},getCompStyle:function(e,t){return void 0!==window.getComputedStyle?window.getComputedStyle(e,t):(this.el=e,this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:0},this)},getBorder:function(e,t){if(!e||!t)return 0;var n=parseInt(this.getCompStyle(e,null).getPropertyValue(t),10);return isNaN(n)&&(n=0),n},getElementHeight:function(e){if(!e)return 0;var t=e.offsetHeight||0;return t?t-this.getBorder(e,"border-top-width")-this.getBorder(e,"border-bottom-width"):0},getPositionTop:function(e){for(var t=0;e;)t+=e.offsetTop,e=e.offsetParent;return t},getScrollbarWidthHeight:function(){var e=this.make("div");e.style.overflow="scroll",e.style.visibility="hidden",e.style.position="absolute",e.style.width="100px",e.style.height="100px",document.body.appendChild(e);var t={width:e.offsetWidth-e.clientWidth,height:e.offsetHeight-e.clientHeight};return this.rmBodyEl(e),t},isAboveFold:function(e){if(r&&7>=b)return!0;var t=U.getCompStyle(e);if("hidden"==t.visibility||"none"==t.display)return!1;var n=e.getBoundingClientRect(),i=this.getElementHeight(e),s=.5*i;if(n.top+s<0)return!1;var o=window.innerHeight||document.documentElement.clientHeight;if(this.isScrollHorizontalVisible()){var u=this.getScrollbarWidthHeight();o-=u.height}return n.bottom-s<=o?!0:void 0},strip:function(e){for(var t={"/":"P",";":"1","?":"P","&":"1","#":"P"},n={url:e,clean:"",cookie:"",keys:[]},r=0;-1!==e.indexOf("_yl",r);){var i=e.indexOf("_yl",r);if(i>r&&(n.clean+=e.slice(r,i-1)),r=i+3,t[e.charAt(i-1)]&&"="===e.charAt(i+4)){n.ult=1;var s="_yl"+e.charAt(i+3),o="";for(i+=5;i<e.length&&!t[e.charAt(i)];i++)o+=e.charAt(i);n.keys.push(s),n[s]=o,"_ylv"!==s&&(n.cookie+="&"+s+"="+o),t[e.charAt(i)]&&"P"===t[e.charAt(i)]&&(n.clean+=e.charAt(i)),r=i+1}else n.clean+=e.slice(i-1,r)}return n.ult&&(n.cookie=n.cookie.substr(1),n.clean+=e.substr(r),"0"===n._ylv),n},prevDef:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},appBodyEl:function(e){document.body.appendChild(e)},rmBodyEl:function(e){document.body.removeChild(e)},sa:function(e,t,n){e.setAttribute(t,n)},getScrollY:function(){var e=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return e},make:function(e,t){var n=document.createElement(e);if(t&&this.isObj(t))for(var r in t)this.sa(n,r,t[r]);return n},getXHR:function(){function e(){for(var e=!1,n=t.length,r=0;n>r;r++){try{e=t[r]()}catch(i){continue}break}return e}var t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];return e()},hasLS:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}},hasCORS:function(){return r&&10>b?!1:"withCredentials"in new XMLHttpRequest?!0:"undefined"!=typeof XDomainRequest},hasWorkers:function(){return!!window.Worker},clearCookie
:function(e,t,n){t=t?t:"/",n=n?n:"",document.cookie=e+"= ; path="+t+"; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Domain="+n+";"},uniqConcat:function(e,t,n){function r(e){for(var t=0,r=e.length;r>t;t++){var o=e[t];if(o){var u=n(o);s[u]||(s[u]=1,i.push(o))}}}var i=[],s={};return r(e),r(t),i},trim:function(e){return e?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e},extDomain:function(e){var t=e.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i);return t&&t[1]},getAttribute:function(e,t){var n="";return document.documentElement.hasAttribute||t!==d||(t="className"),e&&e.getAttribute&&(n=e.getAttribute(t,2)),n},isDate:function(e){return"[object Date]"===n.toString.call(e)},isArr:function(e){return"[object Array]"===n.toString.apply(e)},isStr:function(e){return"string"==typeof e},isNum:function(e){return"number"==typeof e&&isFinite(e)},isNumeric:function(e){return e-0==e&&(e+"").replace(/^\s+|\s+$/g,"").length>0},isObj:function(e){return e&&"object"==typeof e},rTN:function(e){try{if(e&&3===e.nodeType)return e.parentNode}catch(t){c(t)}return e},getTarget:function(e){var t=e.target||e.srcElement;return t&&!t.nodeName&&(t=t.correspondingUseElement&&t.correspondingUseElement.parentNode?t.correspondingUseElement.parentNode:null),this.rTN(t)},addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},rmEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},aug:function(e,t,n){if(t)for(var r in t)if(this.hasOwn(t,r)){if(n&&!n.call(null,r,t[r]))continue;e[r]=t[r]}},rmProto:function(e){return e?e.substr(0,7)===l?e.substr(7,e.length):e.substr(0,8)===h?e.substr(8,e.length):e:""},norm:function(e){return null===e?"":(e=""+e,this.trim(e.replace(f," ").replace(a,"")))},_hasClass:function(e,t){var n,r=!1;return e&&t&&(n=this.getAttribute(e,d)||"",r=t.exec?t.test(n):t&&(v+n+v).indexOf(v+t+v)>-1),r},hasClass:function(e,t){if(this.isArr(t)){for(var n=0,r=t.length;r>n;n++)if(this._hasClass(e,t[n]))return!0;return!1}return this.isStr(t)?this._hasClass(e,t):!1},quote:function(e){var t=/["\\\x00-\x1f\x7f-\x9f]/g,n={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r='"',i='"';if(e.match(t)){var s=e.replace(t,function(e){var t=n[e];return"string"==typeof t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(e%16).toString(16))});return r+s+r}return i+e+i},sfy:function(e){if(!e&&""!==e)return{};var t,n=typeof e;if("undefined"===n)return"undefined";if("number"===n||"boolean"===n)return""+e;if("string"===n)return this.quote(e);if("function"==typeof e.toJSON)return this.sfy(e.toJSON());if(this.isDate(e)){var r=e.getUTCMonth()+1,i=e.getUTCDate(),s=e.getUTCFullYear(),o=e.getUTCHours(),u=e.getUTCMinutes(),a=e.getUTCSeconds(),f=e.getUTCMilliseconds();return 10>r&&(r="0"+r),10>i&&(i="0"+i),10>o&&(o="0"+o),10>u&&(u="0"+u),10>a&&(a="0"+a),100>f&&(f="0"+f),10>f&&(f="0"+f),'"'+s+"-"+r+"-"+i+"T"+o+":"+u+":"+a+"."+f+'Z"'}if(t=[],this.isArr(e)){for(var l=0,c=e.length;c>l;l++)t.push(this.sfy(e[l]));return"["+t.join(",")+"]"}if("object"===n){for(var h in e)if(this.hasOwn(e,h)){var p=typeof h,d=null;if("string"===p)d=this.quote(h);else{if("number"!==p)continue;d='"'+h+'"'}if(p=typeof e[h],"function"!==p&&"undefined"!==p){var v="";v=null===e[h]?'""':0===e[h]?0:this.sfy(e[h]),t.push(d+":"+v)}}return"{"+t.join(",")+"}"}},toJSON:function(){var e=null;return function(t){return e||(e="object"==typeof JSON&&JSON.stringify&&6!==b&&7!==b&&8!==b?JSON.stringify:this.sfy),e.call(this,t)}}(),executeOnLoad:function(e){var t=!1,n=function(n){(document.addEventListener||n&&"load"===n.type||"complete"===document.readyState)&&(t=!0,r(),e.call(this))},r=function(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",n,!1),window.removeEventListener("load",n,!1)):(document.detachEvent("onreadystatechange",n),window.detachEvent("onload",n))};if("complete"===document.readyState)setTimeout(n);else if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else{document.attachEvent("onreadystatechange",n),window.attachEvent("onload",n);var i=!1;try{i=null==window.frameElement&&document.documentElement}catch(s){}i&&i.doScroll&&!function o(){if(!t){try{i.doScroll("left")}catch(n){return setTimeout(o,50)}r(),e.call(this)}}()}},getLinkContent:function(e){for(var t,n=0,r="";(t=e.childNodes[n])&&t;n++)1===t.nodeType&&("img"===t.nodeName.toLowerCase()&&(r+=(this.getAttribute(t,"alt")||"")+" "),r+=this.getLinkContent(t));return r},fData:function(e){return this.isStr(e)?e:this.toJSON(e)},getLT:function(e,t){if(!e)return"_";var n="";return t=t.toLowerCase(),n="input"===e.nodeName.toLowerCase()?this.getAttribute(e,"value"):"text"===t?i?e.textContent:e.innerText?e.innerText:e.textContent:"href"===t?this.rmProto(this.getAttribute(e,"href")):this.getAttribute(e,t)||"",n=this.norm(n),""===n&&(n=this.norm(this.getLinkContent(e))),n&&n.length>U.MAX_VALUE_LENGTH&&(n=n.substring(0,U.MAX_VALUE_LENGTH)),""===n?"_":n},clref:function(e){if(0!==e.indexOf(l)&&0!==e.indexOf(h))return"";var t=this.strip(e);return t.clean||t.url},cold:function(){return screen?screen.colorDepth||screen.pixelDepth:"unknown"},sr:function(e){return screen?screen.width+(e?e:",")+screen.height:""},xy:function(e){function t(){var e=document.documentElement,t=document.body;return e&&(e.scrollTop||e.scrollLeft)?[e.scrollTop,e.scrollLeft]:t?[t.scrollTop,t.scrollLeft]:[0,0]}var n=null,i=e.pageX,s=e.pageY;return r&&(n=t()),i||0===i||(i=e.clientX||0,r&&(i+=n[1])),s||0===s||(s=e.clientY||0,r&&(s+=n[0])),i+","+s},hasCC:function(e){for(var t=0,n=e.length;n>t;t++){var r=e.charCodeAt(t);if(32>r||"="===r)return!0}return!1},isValidPair:function(e,t){return U.in_value_whitelist(e)?!0:e.length<=0||e.length>32||t.length>U.MAX_VALUE_LENGTH?(U.ldbg&&console.warn("Invalid key/value pair ("+e+"="+t+") Size must be 1-32 & 0-300 respectively."),!1):!0},ser:function(e,t){if(!e)return"";void 0===typeof t&&(t=!0);var n=[],r=""
;for(var i in e)if(this.hasOwn(e,i)){var s=i,o=e[i];if(null===s||null===o)continue;if(s+="",o+="",o&&!U.in_value_whitelist(s)&&o.length>U.MAX_VALUE_LENGTH&&(o=o.substring(0,U.MAX_VALUE_LENGTH)),!this.isValidPair(s,o))continue;if(!this.hasCC(s)&&!this.hasCC(o)){r="",o=this.trim(o),""!==o&&" "!==o||!t||(o="_");try{r=this.enc(s+""+o),r=r.replace(/'/g,"%27")}catch(u){r="_ERR_ENCODE_",c(u)}n.push(r)}}return n.join(this.cd)},rand:function(){for(var e=0,t="",n="";e++<16;){var r=Math.floor(62*Math.random());n=10>r?r:String.fromCharCode(36>r?r+55:r+61),t+=n}return t},tms:function(){return+(new Date)},cookEn:function(){var e=navigator.cookieEnabled?1:0,t="rapidtc";return"undefined"!=typeof navigator.cookieEnabled||e||(document.cookie=t+"=1",e=-1!=document.cookie.indexOf("testcookie"),document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"),e},isResCF:function(e){var t={14:1,15:1,18:1,19:1,20:1};return t[e]},isTagOfInterest:function(e,t){for(var n=0,r=t.length;r>n;n++)if(e.tagName&&e.tagName.toLowerCase()==t[n].toLowerCase())return!0;return!1},samplingSuccess:function(e){var t=function(e){for(var t=33554467,n=t,r=0,i=e.length;i>r;r++)n+=(n<<1)+(n<<4)+(n<<7)+(n<<8)+(n<<24),n^=e.charCodeAt(r);return 0>n&&(n&=2147483647,n+=2147483648),n},n=function(e){var n=1e3;e*=10;var r=new p,i=""+r.getCookieByName("B");return i?(0>m&&(m=t(i)%n),e>m):!1};return n(e)},in_value_whitelist:function(e){return r&&8>=b?!1:-1!==U.value_len_whitelist.indexOf(e)}}}"undefined"!=typeof console&&"undefined"!=typeof console.log||(console={log:function(){}}),"undefined"==typeof console.error&&(console.error=console.log),"undefined"==typeof console.warn&&(console.warn=console.log),t.prototype={ser:function(){return U.ser(this.map)},set:function(e,t){var n=t?U.norm(t):t;void 0!==n&&null!==n||(n=""),null!==n&&U.isStr(n)&&(n=n.replace(/\\/g,"\\\\")),!U.in_value_whitelist(e)&&n.length>U.MAX_VALUE_LENGTH&&(n=n.substring(0,U.MAX_VALUE_LENGTH)),U.isValidPair(e,n)&&(this.map[U.norm(e)]=n,this.count++)},get:function(e){return this.map[e]},getAll:function(){return this.map},absorb:function(e){if(e&&U.isObj(e))for(var t in e)U.hasOwn(e,t)&&this.set(t,e[t])},absorb_filter:function(e,t){if(e&&U.isObj(e))for(var n in e)t&&!t.call(null,n)||U.hasOwn(e,n)&&this.set(n,e[n])},getSize:function(){return this.count}},n.prototype=new t,n.prototype.constructor=t,r.prototype=new t,r.prototype.constructor=t,n.makeFromPP=function(e){var t=new n;return e&&t.absorb(e.getAll()),t};var R=new n,U=q(e),z=new b,W={none:0,gzip:1,lzw:2,deflate:3};p.prototype={getCookieByName:function(e){return this.cookieMap[e]},getRxx:function(){var e="rxx",t=this.cookieMap[e];if(X.fpc&&(void 0===t||null===t||""===t)){var n=document.domain||"";n="."+n.split(".").slice(-2).join(".");var r=Date.UTC(2015,7,1),i=(new Date).getTime()-r;t=parseInt(Math.random().toString().substring(2)).toString(36)+"."+i.toString(36)+"&v=1",m(e,t,31536e3,n)}return t},extendBCookie:function(){var e=this.cookieMap.B;e?m("B",e,31536e3,".yahoo.com"):l("Bcookie not set")}};var X=u(e),V=g(),$=null,J=null,K=null,Q=null,G=new p,Y=G.getRxx();null!=Y&&R.set("_rx",Y);var Z=G.getCookieByName("_ga");null!=Z&&R.set("_ga",Z);var et=G.getCookieByName("yx");null!=et&&R.set("_yx",et);var tt=(function(){var e={};return{subscribe:function(t,n){var r=e[t];r||(r=[],e[t]=r),r.push(n)},unsubscribe:function(t,n){var r=e[t];if(r)for(var i=0;i<r.length;i++)if(r[i]===n)return void r.splice(i,1)},fire:function(t){var n=e[t];if(n)for(var r=0,i=n.length;i>r;r++)n[r].call(null)}}}(),0),nt=null,rt=null;I();var it={utils:U};return{init:function(){},beaconEvent:function(e,t,n,r){M(e,t,n,r)},beaconClick:function(e,t,n,r,i,s,o){X.ldbg&&h("beaconClick: sec="+e+" slk="+t+" callback="+s),!r&&i&&(r={});var u={};if(i&&(r.outcm=i,u.outcm=i),o&&o.pp&&U.aug(u,o.pp),o&&o.dwell&&X.dwell_on){var a=o.dwell;"start"!==a&&"stop"!==a||("start"===a?K.start_dwell()&&(u.etag="dwell,"+a,u.usergenf=1,u.A_prets=rt?rt.ts:null,u.A_prems=rt?rt.ms:null):K.stop_dwell()&&(u.etag="dwell,"+a,u.usergenf=1,u.A_prets=nt?nt.ts:null,u.A_prems=nt?nt.ms:null))}var f=C(e,t,n,r,i);f.pp=u,V.sendClick(f,s)},addModules:function(e,t,n){X.ldbg&&h("addModules() called: mods="+U.fData(e)+" isPage: "+t),n=n||{};var r={A_am:1};n.pp&&U.aug(r,n.pp),n.useViewability=n.useViewability||!1,n.clickonly=n.clickonly||!1;var i=!1,s=!1;switch(t||(t=n.useViewability?2:!1),t){case 1:case"1":case!0:t=!0,s=!0;break;case 2:case"2":i=!0,t=!1,n.event=T("contentmodification","",{});break;case 0:case"0":case!1:default:t=!1}if(!X.yql_enabled)return void (t?O(r,s):n.event&&this.beaconRichView(r,n.event.outcome));n&&n.event&&t&&(c("Cannot track event type and pageview at same time."),n.event=null);var o=z.addModules(e,n.useViewability);(0!==o.length||n.event)&&(n.clickonly&&(o=[]),(X.USE_RAPID||n.event)&&(t||n.event||n.pp?(s&&!X.persist_asid&&a(),n.event&&n.event.data&&U.aug(r,n.event.data),V.sendRapidNoDelay(o,t,r,n)):o.length>0&&V.sendRapid(o,t,r,n)),t===!0&&X.apv&&$&&$.reInit())},addModulesWithViewability:function(e,t,n){n=n||{},n.useViewability=X.viewability,this.addModules(e,t,n)},refreshModule:function(e,t,n,r){X.ldbg&&h("refreshModule called: mod="+e+" isPV: "+t+" sendLinks: "+n+" options: "+U.fData(r));var i=!1,s=!1;switch(r=r||{},t||(t=!1),t){case 1:case"1":case!0:t=!0,s=!0;break;case 2:case"2":i=!0,t=!1,r.event=T("contentmodification","",{});break;case 0:case"0":case!1:default:t=!1}if(!X.yql_enabled){var o=r.pp||{};return void (t?O(o,s):r.event&&this.beaconRichView(o,r.event.outcome))}var u=n!==!1;s&&!X.persist_asid&&a(),t&&r&&r.event&&(r.event=null),z.refreshModule(e,t,u,r)},removeModule:function(e){z.removeModule(e)},isModuleTracked:function(e){return X.ldbg&&h("isTracked called: "+e),z&&void 0!==z.exists(e)},destroy:function(){h("destroy called"),z.destroy(),$&&($.destroy(),$=null),J&&(J.destroy(),J=null),K&&(K.destroy(),K=null)},reInit:function(e){if(X.ldbg&&h("reInit called with: "+U.fData(e)),e=e||{},!e.spaceid)return void c("Invalid spid in reInit config: "+U.fData(e));R=new n,X=u(e),U=q
(e);var t=new p,r=t.getRxx();null!=r&&R.set("_rx",r);var i=t.getCookieByName("_ga");null!=i&&R.set("_ga",i);var s=t.getCookieByName("yx");null!=s&&R.set("_yx",s)},setRapidAttribute:function(e){e.keys&&X.keys.absorb(e.keys),e.spaceid&&(X.spaceid=e.spaceid),e.referrer&&(X.referrer=e.referrer.substring(0,U.MAX_VALUE_LENGTH)),e.A_sid&&(X.keys.set("A_sid",e.A_sid),X.persist_asid=!0),e.location&&(X.loc=e.location,X.keys.set("_w",U.rmProto(e.location).substring(0,U.MAX_VALUE_LENGTH))),U.hasOwn(e,"apv")&&(e.apv?$?$.reInit():$=new D:$&&($.destroy(),$=null))},clearRapidAttribute:function(e){for(var t in e)if("keys"===e[t]){var r=X.keys.get("_w"),i=X.keys.get("A_sid");X.keys=new n,X.keys.set("_w",r),X.keys.set("A_sid",i)}else"referrer"===e[t]?X.referrer="":"A_sid"===e[t]?(X.keys.set("A_sid",""),X.persist_asid=!0):"location"===e[t]&&(X.loc="",X.keys.set("_w",""))},beaconPageview:function(e){O(e,!0)},beaconECommerce:function(e,t){},beaconInternalSearch:function(e,t){},getCurrentSID:function(){return R.get("A_sid")},notifyHistoryPushStateCalled:function(){},beaconLinkViews:function(e,t,n,i){X.ldbg&&h("beaconLinkViews() called"),n=n||{};var s={};n.pp&&U.aug(s,n.pp);var o=!1,u=!1;switch(t){case 1:case"1":case!0:u=!0;break;case 2:case"2":o=!0,u=!1,n.event=T("contentmodification","",{});break;case 0:case"0":case!1:default:u=!1}if(!X.yql_enabled)return void (u?O(s,!1):n.event&&this.beaconRichView(s,n.event.outcome));if(n&&n.event&&u&&(c("Cannot track event type and pageview at same time."),n.event=null),0!==e.length||n.event){for(var a=[],f=0;f<e.length;f++){var l=e[f],p=new r;p.absorb_filter(l,function(e){return"sec"!=e&&"_links"!=e});for(var d=[],v=1,m=0;m<l._links.length;m++){var g=l._links[m],y={viewable:!0,data:{sec:l.sec,_p:v++,A_lv:2}};U.aug(y.data,g),d.push(y)}var b={moduleName:l.sec,moduleYLK:p,links:d,identifier:l.sec};a.push(b)}(X.USE_RAPID||n.event)&&((u||n.event||n.pp)&&n.event&&n.event.data&&U.aug(s,n.event.data),V.sendRapidNoDelay(a,u,s,n)),i&&i.call()}},beaconPerformanceData:function(e,t){H(e,t)},__test_only__:function(){return it}}},YUI.add("rapid",function(e,t){var n=require("lib/flog")("rapid"),r,i=-1,s={debug:!1,trackedElements:["content"]};e.rapidTracker={ok:!1,_queuedEvents:[],init:function(t){var n,s,o;if(e.rapidTracker.ok)return;try{r=new YAHOO.i13n.Rapid(t),r.init(),e.mix(this,r);for(n=0,s=this._queuedEvents.length;n<s;n++)o=this._queuedEvents.shift(),o.eventType==="beaconClick"?this.beaconClick(o.view,o.action,i,o.keys,o.outcome):o.eventType==="beaconPerformanceData"&&this.beaconPerformanceData(o.obj);e.rapidTracker.ok=!0}catch(u){e.rapidTracker.ok=!1}},destroy:function(){e.rapidTracker.ok&&(r&&r.destroy(),e.rapidTracker.ok=!1)},getConf:function(t,r,i){var o,u,a="",f=r.getUA(),l=r.getViewer(),c=["share_modal_restyle","celeb_search","photoscore_rank_in_search","buy_button_tests","photo_list_buy_button_tests","enable_personalized_group_recommendations"];return i=i||{},i.trackedElements=i.trackedElements||[],o=e.merge(s,t.get("rapidConf")||{},i),o.trackedElements=s.trackedElements.concat(t.get("trackedElementIDs"),i.trackedElements),r.buckets&&(a=Object.keys(r.buckets).reduce(function(e,t){return c.indexOf(t)!==-1?e+t+":"+r.buckets[t]+",":e},"").slice(0,-1),a.length>300&&(n.warn("Rapid bucket data exceeded the 300 character limit."),a=a.substr(0,300))),u=e.merge({pageType:t.name,intl:r.lang,bx:r.getCookie("BX"),buckets:a,isStaff:l&&l.isInsecureGod?1:0,renderer:r.hasClientSideRouted()?"c":"s",loggedIn:l&&l.signedIn?1:0,slice:r.slice,groupUsr:r.auth&&r.auth.activeGroupMembership?1:0,density:window.devicePixelRatio||1,dimensns:"innerWidth"in window?window.innerWidth+"x"+window.innerHeight:"unknown",isPro:0,isbot:f.isBot,isunsptd:f.isUnsupportedBrowser||f.isReallyUnsupportedBrowser},t.getTrackingSegments()),new e.Promise(function(n,i){var s,a=u.isunsptd&&t.get("isPanda")?"p#"+t.get("spaceid"):t.get("spaceid"),f=e.config.flickr.performance_samples[t.name.replace(/-/g,"_")];f?f.signedIn&&(f=f[l&&l.signedIn?"signedIn":"signedOut"]||0):f=0,f*=100,s={debug:o.debug,spaceid:a,client_only:o.client_only||1,compr_on:!1,tracked_mods:o.trackedElements,async_all_clicks:!0,lt_attr:"data-track",keys:u,perf_navigationtime:2,sample:{perf_navigationtime:f}},o.ex&&(s.ex=!0),typeof o.oo!="undefined"&&(s.oo=o.oo),l.signedIn?r.getModel("person-models",l.nsid).then(function(e){s.keys.joindate=e.getValue("dateCreated").format("YYYY-MM-DD"),s.keys.isPro=e.getValue("isPro")?1:0,n(s)}):n(s)})},beacon:function(e,t,n,s){n=n||{},s=s||"",r?r.beaconClick(e,t,i,n,s):this._queuedEvents.push({eventType:"beaconClick",view:e,action:t,keys:n,outcome:s})},beaconPerformanceData:function(e){r?r.beaconPerformanceData(e):this._queuedEvents.push({eventType:"beaconPerformanceData",obj:e})},refreshTracker:function(){r&&e.rapidTracker.ok&&r.refreshModule(s.trackedElements[0],!1,!1,{})}}},"@VERSION@",{affinity:"client",requires:[]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-mousewheel",function(e,t){var n="DOMMouseScroll",r=function(t){var r=e.Array(t,0,!0),i;return e.UA.gecko?(r[0]=n,i=e.config.win):i=e.config.doc,r.length<3?r[2]=i:r.splice(2,0,i),r};e.Env.evt.plugins.mousewheel={on:function(){return e.Event._attach(r(arguments))},detach:function(){return e.Event.detach.apply(e.Event,r(arguments))}}},"3.16.0",{requires:["node-base"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-mouseenter",function(e,t){var n=e.Env.evt.dom_wrappers,r=e.DOM.contains,i=e.Array,s=function(){},o={proxyType:"mouseover",relProperty:"fromElement",_notify:function(t,i,s){var o=this._node,u=t.relatedTarget||t[i];o!==u&&!r(o,u)&&s.fire(new e.DOMEventFacade(t,o,n["event:"+e.stamp(o)+t.type]))},on:function(t,n,r){var i=e.Node.getDOMNode(t),s=[this.proxyType,this._notify,i,null,this.relProperty,r];n.handle=e.Event._attach(s,{facade:!1})},detach:function(e,t){t.handle.detach()},delegate:function(t,n,r,i){var o=e.Node.getDOMNode(t),u=[this.proxyType,s,o,null,r];n.handle=e.Event._attach(u,{facade:!1}),n.handle.sub.filter=i,n.handle.sub.relProperty=this.relProperty,n.handle.sub._notify=this._filterNotify},_filterNotify:function(t,n,s){n=n.slice(),this.args&&n.push.apply(n,this.args);var o=e.delegate._applyFilter(this.filter,n,s),u=n[0].relatedTarget||n[0][this.relProperty],a,f,l,c,h;if(o){o=i(o);for(f=0,l=o.length&&(!a||!a.stopped);f<l;++f){h=o[0];if(!r(h,u)){a||(a=new e.DOMEventFacade(n[0],h,s),a.container=e.one(s.el)),a.currentTarget=e.one(h),c=n[1].fire(a);if(c===!1)break}}}return c},detachDelegate:function(e,t){t.handle.detach()}};e.Event.define("mouseenter",o,!0),e.Event.define("mouseleave",e.merge(o,{proxyType:"mouseout",relProperty:"toElement"}),!0)},"3.16.0",{requires:["event-synthetic"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-key",function(e,t){var n="+alt",r="+ctrl",i="+meta",s="+shift",o=e.Lang.trim,u={KEY_MAP:{enter:13,space:32,esc:27,backspace:8,tab:9,pageup:33,pagedown:34},_typeRE:/^(up|down|press):/,_keysRE:/^(?:up|down|press):|\+(alt|ctrl|meta|shift)/g,processArgs:function(t){var n=t.splice(3,1)[0],r=e.Array.hash(n.match(/\+(?:alt|ctrl|meta|shift)\b/g)||[]),i={type:this._typeRE.test(n)?RegExp.$1:null,mods:r,keys:null},s=n.replace(this._keysRE,""),u,a,f,l;if(s){s=s.split(","),i.keys={};for(l=s.length-1;l>=0;--l){u=o(s[l]);if(!u)continue;+u==u?i.keys[u]=r:(f=u.toLowerCase(),this.KEY_MAP[f]?(i.keys[this.KEY_MAP[f]]=r,i.type||(i.type="down")):(u=u.charAt(0),a=u.toUpperCase(),r["+shift"]&&(u=a),i.keys[u.charCodeAt(0)]=u===a?e.merge(r,{"+shift":!0}):r))}}return i.type||(i.type="press"),i},on:function(e,t,o,u){var a=t._extra,f="key"+a.type,l=a.keys,c=u?"delegate":"on";t._detach=e[c](f,function(e){var t=l?l[e.which]:a.mods;t&&(!t[n]||t[n]&&e.altKey)&&(!t[r]||t[r]&&e.ctrlKey)&&(!t[i]||t[i]&&e.metaKey)&&(!t[s]||t[s]&&e.shiftKey)&&o.fire(e)},u)},detach:function(e,t,n){t._detach.detach()}};u.delegate=u.on,u.detachDelegate=u.detach,e.Event.define("key",u,!0)},"3.16.0",{requires:["event-synthetic"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-focus",function(e,t){function u(t,r,u){var a="_"+t+"Notifiers";e.Event.define(t,{_useActivate:o,_attach:function(i,s,o){return e.DOM.isWindow(i)?n._attach([t,function(e){s.fire(e)},i]):n._attach([r,this._proxy,i,this,s,o],{capture:!0})},_proxy:function(t,r,i){var s=t.target,f=t.currentTarget,l=s.getData(a),c=e.stamp(f._node),h=o||s!==f,p;r.currentTarget=i?s:f,r.container=i?f:null,l?h=!0:(l={},s.setData(a,l),h&&(p=n._attach([u,this._notify,s._node]).sub,p.once=!0)),l[c]||(l[c]=[]),l[c].push(r),h||this._notify(t)},_notify:function(t,n){var r=t.currentTarget,i=r.getData(a),o=r.ancestors(),u=r.get("ownerDocument"),f=[],l=i?e.Object.keys(i).length:0,c,h,p,d,v,m,g,y,b,w;r.clearData(a),o.push(r),u&&o.unshift(u),o._nodes.reverse(),l&&(m=l,o.some(function(t){var n=e.stamp(t),r=i[n],s,o;if(r){l--;for(s=0,o=r.length;s<o;++s)r[s].handle.sub.filter&&f.push(r[s])}return!l}),l=m);while(l&&(c=o.shift())){d=e.stamp(c),h=i[d];if(h){for(g=0,y=h.length;g<y;++g){p=h[g],b=p.handle.sub,v=!0,t.currentTarget=c,b.filter&&(v=b.filter.apply(c,[c,t].concat(b.args||[])),f.splice(s(f,p),1)),v&&(t.container=p.container,w=p.fire(t));if(w===!1||t.stopped===2)break}delete h[d],l--}if(t.stopped!==2)for(g=0,y=f.length;g<y;++g){p=f[g],b=p.handle.sub,b.filter.apply(c,[c,t].concat(b.args||[]))&&(t.container=p.container,t.currentTarget=c,w=p.fire(t));if(w===!1||t.stopped===2||t.stopped&&f[g+1]&&f[g+1].container!==p.container)break}if(t.stopped)break}},on:function(e,t,n){t.handle=this._attach(e._node,n)},detach:function(e,t){t.handle.detach()},delegate:function(t,n,r,s){i(s)&&(n.filter=function(n){return e.Selector.test(n._node,s,t===n?null:t._node)}),n.handle=this._attach(t._node,r,!0)},detachDelegate:function(e,t){t.handle.detach()}},!0)}var n=e.Event,r=e.Lang,i=r.isString,s=e.Array.indexOf,o=function(){var t=!1,n=e.config.doc,r;return n&&(r=n.createElement("p"),r.setAttribute("onbeforeactivate",";"),t=r.onbeforeactivate!==undefined),t}();o?(u("focus","beforeactivate","focusin"),u("blur","beforedeactivate","focusout")):(u("focus","focus","focus"),u("blur","blur","blur"))},"3.16.0",{requires:["event-synthetic"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-resize",function(e,t){e.Event.define("windowresize",{on:e.UA.gecko&&e.UA.gecko<1.91?function(t,n,r){n._handle=e.Event.attach("resize",function(e){r.fire(e)})}:function(t,n,r){var i=e.config.windowResizeDelay||100;n._handle=e.Event.attach("resize",function(t){n._timer&&n._timer.cancel(),n._timer=e.later(i,e,function(){r.fire(t)})})},detach:function(e,t){t._timer&&t._timer.cancel(),t._handle.detach()}})},"3.16.0",{requires:["node-base","event-synthetic"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-hover",function(e,t){var n=e.Lang.isFunction,r=function(){},i={processArgs:function(e){var t=n(e[2])?2:3;return n(e[t])?e.splice(t,1)[0]:r},on:function(e,t,n,r){var i=t.args?t.args.slice():[];i.unshift(null),t._detach=e[r?"delegate":"on"]({mouseenter:function(e){e.phase="over",n.fire(e)},mouseleave:function(e){var n=t.context||this;i[0]=e,e.type="hover",e.phase="out",t._extra.apply(n,i)}},r)},detach:function(e,t,n){t._detach.detach()}};i.delegate=i.on,i.detachDelegate=i.detach,e.Event.define("hover",i)},"3.16.0",{requires:["event-mouseenter"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-outside",function(e,t){var n=["blur","change","click","dblclick","focus","keydown","keypress","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","select","submit"];e.Event.defineOutside=function(t,n){n=n||t+"outside";var r={on:function(n,r,i){r.handle=e.one("doc").on(t,function(e){this.isOutside(n,e.target)&&(e.currentTarget=n,i.fire(e))},this)},detach:function(e,t,n){t.handle.detach()},delegate:function(n,r,i,s){r.handle=e.one("doc").delegate(t,function(e){this.isOutside(n,e.target)&&i.fire(e)},s,this)},isOutside:function(e,t){return t!==e&&!t.ancestor(function(t){return t===e})}};r.detachDelegate=r.detach,e.Event.define(n,r)},e.Array.each(n,function(t){e.Event.defineOutside(t)})},"3.16.0",{requires:["event-synthetic"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-touch",function(e,t){var n="scale",r="rotation",i="identifier",s=e.config.win,o={};e.DOMEventFacade.prototype._touch=function(t,s,o){var u,a,f,l,c;if(t.touches){this.touches=[],c={};for(u=0,a=t.touches.length;u<a;++u)l=t.touches[u],c[e.stamp(l)]=this.touches[u]=new e.DOMEventFacade(l,s,o)}if(t.targetTouches){this.targetTouches=[];for(u=0,a=t.targetTouches.length;u<a;++u)l=t.targetTouches[u],f=c&&c[e.stamp(l,!0)],this.targetTouches[u]=f||new e.DOMEventFacade(l,s,o)}if(t.changedTouches){this.changedTouches=[];for(u=0,a=t.changedTouches.length;u<a;++u)l=t.changedTouches[u],f=c&&c[e.stamp(l,!0)],this.changedTouches[u]=f||new e.DOMEventFacade(l,s,o)}n in t&&(this[n]=t[n]),r in t&&(this[r]=t[r]),i in t&&(this[i]=t[i])},e.Node.DOM_EVENTS&&e.mix(e.Node.DOM_EVENTS,{touchstart:1,touchmove:1,touchend:1,touchcancel:1,gesturestart:1,gesturechange:1,gestureend:1,MSPointerDown:1,MSPointerUp:1,MSPointerMove:1,MSPointerCancel:1,pointerdown:1,pointerup:1,pointermove:1,pointercancel:1}),s&&"ontouchstart"in s&&!(e.UA.chrome&&e.UA.chrome<6)?(o.start=["touchstart","mousedown"],o.end=["touchend","mouseup"],o.move=["touchmove","mousemove"],o.cancel=["touchcancel","mousecancel"]):s&&s.PointerEvent?(o.start="pointerdown",o.end="pointerup",o.move="pointermove",o.cancel="pointercancel"):s&&"msPointerEnabled"in s.navigator?(o.start="MSPointerDown",o.end="MSPointerUp",o.move="MSPointerMove",o.cancel="MSPointerCancel"):(o.start="mousedown",o.end="mouseup",o.move="mousemove",o.cancel="mousecancel"),e.Event._GESTURE_MAP=o},"3.16.0",{requires:["node-base"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-move",function(e,t){var n=e.Event._GESTURE_MAP,r={start:n.start,end:n.end,move:n.move},i="start",s="move",o="end",u="gesture"+s,a=u+o,f=u+i,l="_msh",c="_mh",h="_meh",p="_dmsh",d="_dmh",v="_dmeh",m="_ms",g="_m",y="minTime",b="minDistance",w="preventDefault",E="button",S="ownerDocument",x="currentTarget",T="target",N="nodeType",C=e.config.win&&"msPointerEnabled"in e.config.win.navigator,k="msTouchActionCount",L="msInitTouchAction",A=function(t,n,r){var i=r?4:3,s=n.length>i?e.merge(n.splice(i,1)[0]):{};return w in s||(s[w]=t.PREVENT_DEFAULT),s},O=function(e,t){return t._extra.root||e.get(N)===9?e:e.get(S)},M=function(t){var n=t.getDOMNode();return t.compareTo(e.config.doc)&&n.documentElement?n.documentElement:!1},_=function(e,t,n){e.pageX=t.pageX,e.pageY=t.pageY,e.screenX=t.screenX,e.screenY=t.screenY,e.clientX=t.clientX,e.clientY=t.clientY,e[T]=e[T]||t[T],e[x]=e[x]||t[x],e[E]=n&&n[E]||1},D=function(t){var n=M(t)||t.getDOMNode(),r=t.getData(k);C&&(r||(r=0,t.setData(L,n.style.msTouchAction)),n.style.msTouchAction=e.Event._DEFAULT_TOUCH_ACTION,r++,t.setData(k,r))},P=function(e){var t=M(e)||e.getDOMNode(),n=e.getData(k),r=e.getData(L);C&&(n--,e.setData(k,n),n===0&&t.style.msTouchAction!==r&&(t.style.msTouchAction=r))},H=function(e,t){t&&(!t.call||t(e))&&e.preventDefault()},B=e.Event.define;e.Event._DEFAULT_TOUCH_ACTION="none",B(f,{on:function(e,t,n){D(e),t[l]=e.on(r[i],this._onStart,this,e,t,n)},delegate:function(e,t,n,s){var o=this;t[p]=e.delegate(r[i],function(r){o._onStart(r,e,t,n,!0)},s)},detachDelegate:function(e,t,n,r){var i=t[p];i&&(i.detach(),t[p]=null),P(e)},detach:function(e,t,n){var r=t[l];r&&(r.detach(),t[l]=null),P(e)},processArgs:function(e,t){var n=A(this,e,t);return y in n||(n[y]=this.MIN_TIME),b in n||(n[b]=this.MIN_DISTANCE),n},_onStart:function(t,n,i,u,a){a&&(n=t[x]);var f=i._extra,l=!0,c=f[y],h=f[b],p=f.button,d=f[w],v=O(n,i),m;t.touches?t.touches.length===1?_(t,t.touches[0],f):l=!1:l=p===undefined||p===t.button,l&&(H(t,d),c===0||h===0?this._start(t,n,u,f):(m=[t.pageX,t.pageY],c>0&&(f._ht=e.later(c,this,this._start,[t,n,u,f]),f._hme=v.on(r[o],e.bind(function(){this._cancel(f)},this))),h>0&&(f._hm=v.on(r[s],e.bind(function(e){(Math.abs(e.pageX-m[0])>h||Math.abs(e.pageY-m[1])>h)&&this._start(t,n,u,f)},this)))))},_cancel:function(e){e._ht&&(e._ht.cancel(),e._ht=null),e._hme&&(e._hme.detach(),e._hme=null),e._hm&&(e._hm.detach(),e._hm=null)},_start:function(e,t,n,r){r&&this._cancel(r),e.type=f,t.setData(m,e),n.fire(e)},MIN_TIME:0,MIN_DISTANCE:0,PREVENT_DEFAULT:!1}),B(u,{on:function(e,t,n){D(e);var i=O(e,t,r[s]),o=i.on(r[s],this._onMove,this,e,t,n);t[c]=o},delegate:function(e,t,n,i){var o=this;t[d]=e.delegate(r[s],function(r){o._onMove(r,e,t,n,!0)},i)},detach:function(e,t,n){var r=t[c];r&&(r.detach(),t[c]=null),P(e)},detachDelegate:function(e,t,n,r){var i=t[d];i&&(i.detach(),t[d]=null),P(e)},processArgs:function(e,t){return A(this,e,t)},_onMove:function(e,t,n,r,i){i&&(t=e[x]);var s=n._extra.standAlone||t.getData(m),o=n._extra.preventDefault;s&&(e.touches&&(e.touches.length===1?_(e,e.touches[0]):s=!1),s&&(H(e,o),e.type=u,r.fire(e)))},PREVENT_DEFAULT:!1}),B(a,{on:function(e,t,n){D(e);var i=O(e,t),s=i.on(r[o],this._onEnd,this,e,t,n);t[h]=s},delegate:function(e,t,n,i){var s=this;t[v]=e.delegate(r[o],function(r){s._onEnd(r,e,t,n,!0)},i)},detachDelegate:function(e,t,n,r){var i=t[v];i&&(i.detach(),t[v]=null),P(e)},detach:function(e,t,n){var r=t[h];r&&(r.detach(),t[h]=null),P(e)},processArgs:function(e,t){return A(this,e,t)},_onEnd:function(e,t,n,r,i){i&&(t=e[x]);var s=n._extra.standAlone||t.getData(g)||t.getData(m),o=n._extra.preventDefault;s&&(e.changedTouches&&(e.changedTouches.length===1?_(e,e.changedTouches[0]):s=!1),s&&(H(e,o),e.type=a,r.fire(e),t.clearData(m),t.clearData(g)))},PREVENT_DEFAULT:!1})},"3.16.0",{requires:["node-base","event-touch","event-synthetic"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-flick",function(e,t){var n=e.Event._GESTURE_MAP,r={start:n.start,end:n.end,move:n.move},i="start",s="end",o="move",u="ownerDocument",a="minVelocity",f="minDistance",l="preventDefault",c="_fs",h="_fsh",p="_feh",d="_fmh",v="nodeType";e.Event.define("flick",{on:function(e,t,n){var s=e.on(r[i],this._onStart,this,e,t,n);t[h]=s},detach:function(e,t,n){var r=t[h],i=t[p];r&&(r.detach(),t[h]=null),i&&(i.detach(),t[p]=null)},processArgs:function(t){var n=t.length>3?e.merge(t.splice(3,1)[0]):{};return a in n||(n[a]=this.MIN_VELOCITY),f in n||(n[f]=this.MIN_DISTANCE),l in n||(n[l]=this.PREVENT_DEFAULT),n},_onStart:function(t,n,i,a){var f=!0,l,h,m,g=i._extra.preventDefault,y=t;t.touches&&(f=t.touches.length===1,t=t.touches[0]),f&&(g&&(!g.call||g(t))&&y.preventDefault(),t.flick={time:(new Date).getTime()},i[c]=t,l=i[p],m=n.get(v)===9?n:n.get(u),l||(l=m.on(r[s],e.bind(this._onEnd,this),null,n,i,a),i[p]=l),i[d]=m.once(r[o],e.bind(this._onMove,this),null,n,i,a))},_onMove:function(e,t,n,r){var i=n[c];i&&i.flick&&(i.flick.time=(new Date).getTime())},_onEnd:function(e,t,n,r){var i=(new Date).getTime(),s=n[c],o=!!s,u=e,h,p,v,m,g,y,b,w,E=n[d];E&&(E.detach(),delete n[d]),o&&(e.changedTouches&&(e.changedTouches.length===1&&e.touches.length===0?u=e.changedTouches[0]:o=!1),o&&(m=n._extra,v=m[l],v&&(!v.call||v(e))&&e.preventDefault(),h=s.flick.time,i=(new Date).getTime(),p=i-h,g=[u.pageX-s.pageX,u.pageY-s.pageY],m.axis?w=m.axis:w=Math.abs(g[0])>=Math.abs(g[1])?"x":"y",y=g[w==="x"?0:1],b=p!==0?y/p:0,isFinite(b)&&Math.abs(y)>=m[f]&&Math.abs(b)>=m[a]&&(e.type="flick",e.flick={time:p,distance:y,velocity:b,axis:w,start:s},r.fire(e)),n[c]=null))},MIN_VELOCITY:0,MIN_DISTANCE:0,PREVENT_DEFAULT:!1})},"3.16.0",{requires:["node-base","event-touch","event-synthetic"]});
